{"id":"cc-dump-01a","title":"Hot reload should maintain conversation history and metrics","description":"Hot reload currently loses conversation history and metrics. These should persist across reloads.\n\n## Problem\nWhen hot reload is triggered (r key), the TUI loses:\n- Conversation history (all turn data)\n- Accumulated metrics (token counts, cost data, timeline)\n- Scroll position and UI state\n\n## Expected Behavior\nHot reload should:\n- Preserve all conversation turn data (TurnData objects in ConversationView)\n- Maintain accumulated metrics in analytics panels (cost, timeline)\n- Ideally preserve scroll position and visibility settings\n- Only reload the code modules, not the application state\n\n## Implementation Approach\n- Separate reloadable code from stateful data\n- Store turn data and metrics in stable objects that aren't replaced during reload\n- Ensure hot_reload.py only reloads module code, not data structures\n- May need to redesign state management to separate code from data\n\n## Success Criteria\n- After hot reload (r key), all previous conversation turns are still visible\n- Cost panel shows cumulative metrics from before reload\n- Timeline panel maintains all historical data\n- Scroll position ideally preserved (nice-to-have)\n- No data loss on reload","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-10T05:36:06.009011-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T05:36:06.009011-07:00","dependencies":[{"issue_id":"cc-dump-01a","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.60264-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-01a","depends_on_id":"cc-dump-6dh","type":"blocks","created_at":"2026-02-10T05:53:45.710486-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-04a","title":"When using Skill tool, show skill name","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:50:21.463575-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:09.009191-07:00","closed_at":"2026-01-30T15:48:09.009191-07:00","close_reason":"Implemented in Sprint 3 (tool-display-enrich), commit 94dd3a3. _tool_detail() extracts skill name from Skill tool input."}
{"id":"cc-dump-08z","title":"Investigate multi-session architecture and requirements","description":"Research and design architecture for multi-session support in cc-dump.\n\n## Goals\n- Understand current single-session architecture constraints\n- Design multi-session data model and storage\n- Define UI/UX for session management\n- Identify breaking changes vs. backwards compatibility\n- Estimate implementation effort\n\n## Research Questions\n- How should sessions be identified and stored? (session_id in DB, HAR files)\n- Should we support concurrent live sessions or only historical replay?\n- How does the TUI switch between sessions? (tabs, split view, modal selector)\n- What analytics make sense across multiple sessions?\n- How does this interact with HAR recording/replay?\n- What's the relationship to the existing sessions.py module?\n\n## Deliverables\n- Architecture document or design proposal\n- Data model changes required\n- UI mockups or wireframes (text-based is fine)\n- Implementation plan with phases\n- Risk assessment and migration strategy\n\n## Epic\nPart of cc-dump-888: Multi-session support","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-10T05:38:30.9725-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T05:38:30.9725-07:00","dependencies":[{"issue_id":"cc-dump-08z","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.675769-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-0ai","title":"Add tabbed container for multiple Claude Code instances","description":"Support multiple Claude Code instances in the TUI. One tab per Claude Code instance, with ConversationView inside TabbedContent. Depends on request-ID tagging to distinguish which instance each request belongs to.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-12T15:34:23.163761-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-12T15:34:23.163761-07:00","labels":["concurrency","tui"],"dependencies":[{"issue_id":"cc-dump-0ai","depends_on_id":"cc-dump-q4k","type":"blocks","created_at":"2026-02-12T15:34:35.200236-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-0fe","title":"Implement partial cache invalidation for affected turns","description":"Replace cache.clear() with targeted invalidation that only removes entries for changed turn ranges. Add _invalidate_cache_for_turns(start, end) method and update cache keys to include turn context. Blocked by cc-dump-0oo (needs incremental offset logic).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T03:20:01.875959-07:00","created_by":"bmf","updated_at":"2026-02-21T13:24:59.047782-07:00","closed_at":"2026-02-21T13:24:59.047782-07:00","close_reason":"Implemented turn-range line-cache invalidation with turn-context cache keys and incremental offset-path invalidation; removed full-cache clears for affected paths.","dependencies":[{"issue_id":"cc-dump-0fe","depends_on_id":"cc-dump-0oo","type":"blocked-by","created_at":"2026-02-03T03:20:01.878645-07:00","created_by":"bmf"},{"issue_id":"cc-dump-0fe","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:20:01.879367-07:00","created_by":"bmf"},{"issue_id":"cc-dump-0fe","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.514016-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-0oo","title":"Implement incremental offset recalculation","description":"Replace _recalculate_offsets() with _recalculate_offsets_from(start_turn_index) that only rebuilds offsets from the first changed turn onwards. Reduces O(n) to O(k) where k is turns after first change. Blocked by cc-dump-ax6 (needs changed range tracking).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:19:38.048164-07:00","created_by":"bmf","updated_at":"2026-02-03T04:00:50.977132-07:00","closed_at":"2026-02-03T04:00:50.977135-07:00","dependencies":[{"issue_id":"cc-dump-0oo","depends_on_id":"cc-dump-ax6","type":"blocked-by","created_at":"2026-02-03T03:19:38.0512-07:00","created_by":"bmf"},{"issue_id":"cc-dump-0oo","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:19:38.052286-07:00","created_by":"bmf"}]}
{"id":"cc-dump-0xo","title":"Unify response event handlers to one complete-response path and delete legacy SSE split","description":"Collapse handle_response_event/handle_response_non_streaming split into one canonical response handler using complete-response records, removing transport-specific branching.","status":"closed","priority":1,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:48:59.518195-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T10:21:23.827047-07:00","closed_at":"2026-02-21T10:21:23.827047-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-0xo","depends_on_id":"cc-dump-d6u","type":"blocks","created_at":"2026-02-20T20:50:00.588037-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-0xo","depends_on_id":"cc-dump-6pv","type":"blocks","created_at":"2026-02-20T20:50:05.623634-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-16r","title":"Implement viewport-only re-rendering","description":"Add _viewport_turn_range() method and modify rerender() to only re-render turns visible in viewport + buffer. Mark off-viewport turns with _pending_filter_snapshot for lazy rendering. Requires Phase 1 baseline optimizations (cc-dump-ax6, cc-dump-0oo, cc-dump-e38) to be complete first.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T03:19:51.090381-07:00","created_by":"bmf","updated_at":"2026-02-03T13:48:50.72103-07:00","closed_at":"2026-02-03T13:48:50.72103-07:00","close_reason":"Implemented viewport-only re-rendering: added _viewport_turn_range() method, modified rerender() to only process visible turns + buffer (default 200 lines), off-viewport turns get _pending_filter_snapshot for lazy rendering by cc-dump-bbe","dependencies":[{"issue_id":"cc-dump-16r","depends_on_id":"cc-dump-ax6","type":"blocked-by","created_at":"2026-02-03T03:19:51.093233-07:00","created_by":"bmf"},{"issue_id":"cc-dump-16r","depends_on_id":"cc-dump-0oo","type":"blocked-by","created_at":"2026-02-03T03:19:51.09405-07:00","created_by":"bmf"},{"issue_id":"cc-dump-16r","depends_on_id":"cc-dump-e38","type":"blocked-by","created_at":"2026-02-03T03:19:51.094623-07:00","created_by":"bmf"},{"issue_id":"cc-dump-16r","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:19:51.095114-07:00","created_by":"bmf"}]}
{"id":"cc-dump-18b","title":"Explore using Textual Tree widget for ConversationView","description":"ConversationView is a custom ScrollView that re-implements virtual rendering via Line API, expand/collapse, click handling, and caching.\n\nTextual's Tree widget already provides:\n- Virtual rendering via Line API (same performance)\n- Expand/collapse with proper metadata-based click handling\n- render_label() override for custom node rendering\n- Built-in caching\n- Keyboard navigation\n\nExplore whether Tree could replace the custom implementation:\n- Blocks as tree nodes with custom render_label()\n- Get expand/collapse behavior for free\n- Eliminate manual click handling code\n\nQuestions to answer:\n1. Can Tree handle the streaming use case?\n2. Does render_label() provide enough flexibility for block rendering?\n3. What's the migration path?\n4. Are there performance differences?\n\nReferences:\n- widget_factory.py ConversationView class\n- Textual Tree widget: dev-docs/textual-docs/widgets/tree.xml","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-12T19:48:33.765597-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-12T23:01:05.101933-07:00","closed_at":"2026-02-12T23:01:05.101933-07:00","close_reason":"Architecture analysis confirmed render_line+meta is the correct pattern (same as Textual Tree). Widget-based alternatives degrade at 100-500 widgets. Documented decision in ARCHITECTURE.md."}
{"id":"cc-dump-1nq","title":"Sprint 2: Query layer and panel updates","description":"Update query layer and economics panel with new columns.\n\nDeliverables:\n- New db query: get_tool_economics() with cache attribution\n- Panel columns: Calls | Input (Cached) | Output (Cached) | Norm Cost\n- Wire ToolEconomicsPanel to use new query\n- Remove fake byte-based estimates\n\nSee: .agent_planning/tool-attribution/SPRINT-20260203-130000-query-panel-update-PLAN.md\n\nStatus: HIGH confidence, READY (blocked by Sprint 1)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:20:58.422046-07:00","created_by":"bmf","updated_at":"2026-02-03T04:54:29.270092-07:00","closed_at":"2026-02-03T04:54:29.270096-07:00","dependencies":[{"issue_id":"cc-dump-1nq","depends_on_id":"cc-dump-s3v","type":"blocks","created_at":"2026-02-03T03:20:58.426271-07:00","created_by":"bmf"}]}
{"id":"cc-dump-1vp","title":"Tool use summary not showing when tool view is off","description":"When the tools filter is off, consecutive ToolUseBlocks should collapse into a summary line like '[used 3 tools: Bash 2x, Read 1x]'. The summary logic exists in render_blocks() in rendering.py, but both real render paths (widget_factory.py:380 streaming path and render_turn_to_strips rerender path) call render_block() per-block individually, bypassing render_blocks() entirely. The summary is never generated. Fix: add the consecutive-ToolUseBlock collapsing logic to render_turn_to_strips and the streaming path in widget_factory.py, or refactor those paths to use render_blocks().","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-01T00:45:31.118559-07:00","created_by":"bmf","updated_at":"2026-02-06T20:03:03.30741-07:00","closed_at":"2026-02-06T20:03:03.30741-07:00","close_reason":"Bug description was factually incorrect. render_turn_to_strips() at rendering.py:479 iterates render_blocks() output, which includes tool summary logic. The summary IS generated for completed turns. compute_relevant_keys() picks up 'tools' from ToolUseBlock via BLOCK_FILTER_KEY, so filter toggles trigger re-render correctly."}
{"id":"cc-dump-2c1","title":"Fix level/expanded state toggling","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T05:18:40.991545-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T00:52:32.290306-07:00","closed_at":"2026-02-11T00:52:32.290306-07:00","close_reason":"Implemented three orthogonal reactive dicts (_is_visible, _is_full, _is_expanded) to fix visibility toggling. Fixed critical bug: expanded state is now derived from level defaults (DEFAULT_EXPANDED[level]) instead of independent toggle, ensuring EXISTENCE level shows 0 lines (hidden), SUMMARY shows 3 lines (collapsed), and FULL shows unlimited lines (expanded). All 199 visibility tests pass.","dependencies":[{"issue_id":"cc-dump-2c1","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.090088-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-2vg","title":"Unify hot-reload file-scanning loops","description":"hot_reload.py has 3 nearly identical dir-scanning loops: _scan_mtimes(), has_changes(), and _get_changed_files(). All repeat the same os.listdir + exclusion filter logic. Extract a single _iter_watched_files() -\u003e Iterator[tuple[str, str]] yielding (abs_path, rel_path) after applying exclusion filters. Use it in all three functions. Files: hot_reload.py.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-13T03:29:24.137026-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:53:05.015723-07:00","closed_at":"2026-02-13T17:53:05.015723-07:00","close_reason":"Extracted _iter_watched_files() generator; 3 consumers now share it. All 30 hot-reload tests pass."}
{"id":"cc-dump-2x3","title":"Add XML-aware syntax highlighting","description":"Add XML-aware syntax highlighting to system, user, and assistant content blocks.\n\n## Requirements\n\n### XML Tag Rendering\n- XML tags embedded in system blocks, user blocks, and assistant blocks are parsed and rendered with color (distinct tag colors)\n- Content inside XML tags is rendered as markdown\n- Any nested markdown code blocks within XML content must be escaped with backticks\n\n### XML Parsing\n- MUST use the existing XML parsing code — do not duplicate it. Update the existing parser as needed.\n- MUST parse XML where tags are NOT on separate lines (current deficiency: parser only handles tags on their own lines)\n\n### Expand/Collapse Behavior\n- Ensure expand/collapse works for all top-level XML blocks (the colorized XML sections)\n- DISABLE the 'click on block content to collapse/expand' functionality — it conflicts with XML collapse/expand\n- Users must click the arrow indicator to expand/collapse, not anywhere on the block content\n\n## Technical Context\n- Existing XML parsing lives somewhere in the formatting/rendering pipeline — find and extend it\n- The rendering pipeline: formatting.py (FormattedBlock IR) → rendering.py (Rich Text)\n- Blocks involved: system prompt blocks, user message blocks, assistant message blocks\n- The 3-level visibility system (EXISTENCE/SUMMARY/FULL) × expanded state must work with XML sub-blocks\n\n## Success Criteria\n- XML tags in system/user/assistant content are visually distinct with color\n- Content within XML tags renders as markdown\n- Inline XML tags (not on separate lines) are correctly parsed\n- Click-to-expand on block content is disabled; only arrow clicks toggle expand/collapse\n- All existing tests pass; new tests cover XML parsing edge cases","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:41.868538-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-12T15:17:22.868514-07:00","closed_at":"2026-02-12T15:17:22.868514-07:00","close_reason":"Implemented XML-aware syntax highlighting using Rich Syntax with html lexer","dependencies":[{"issue_id":"cc-dump-2x3","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.033757-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-2x3","depends_on_id":"cc-dump-9cx","type":"blocks","created_at":"2026-02-10T05:53:45.862849-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-31a","title":"Intentional memory management - prevent memory leaks","description":"Ensure cc-dump has intentional memory management and does not leak memory over long-running sessions.\n\n## Concerns\n- Hot reload mechanism may not properly clean up old module references\n- TurnData accumulation in ConversationView grows unbounded\n- Event handlers and subscribers may hold references preventing GC\n- Strip caching may grow indefinitely\n- HAR recorder may accumulate unbounded data in memory\n\n## Investigation Needed\n- Profile memory usage over extended sessions (1000+ turns)\n- Check for circular references preventing garbage collection\n- Verify hot reload properly releases old module objects\n- Review subscriber/event handler lifecycle\n- Assess TurnData and Strip cache growth patterns\n\n## Implementation Approach\n- Add memory profiling/monitoring capability\n- Implement bounded caches with eviction policies (LRU)\n- Ensure proper cleanup in hot reload (weakref where appropriate)\n- Consider pagination/virtualization for very long conversations\n- Add memory usage to analytics panel (optional)\n\n## Success Criteria\n- Memory usage remains stable over 1000+ turn sessions\n- Hot reload does not leak module references\n- Caches have documented size limits and eviction policies\n- No circular references preventing GC\n- Memory profiling shows predictable growth patterns","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-10T05:38:11.127009-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T05:38:11.127009-07:00","dependencies":[{"issue_id":"cc-dump-31a","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.549701-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-31a","depends_on_id":"cc-dump-6dh","type":"blocks","created_at":"2026-02-10T05:53:45.786645-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-3bb","title":"Remove or fix Economics panel fake byte-based token estimates","description":"The Economics panel uses byte-based token estimation (estimate_tokens('x' * bytes)) which produces fake data. User mandate: 'We should not be estimating tokens based on bytes. PERIOD.' Either fix to use real API token counts or remove the panel entirely. Blocked until panel strategy decision is made. Ref: docs/plans/2026-02-01-analytics-dashboard-findings.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-02T12:51:22.075207-07:00","created_by":"bmf","updated_at":"2026-02-03T05:49:57.096711-07:00","closed_at":"2026-02-03T05:49:57.096711-07:00","close_reason":"Duplicate of cc-dump-dos. Tool economics panel now uses real token counts from tool_invocations table (input_tokens, result_tokens) via Sprint 1-3 implementation. See get_tool_economics() in db_queries.py:112-200.","dependencies":[{"issue_id":"cc-dump-3bb","depends_on_id":"cc-dump-4z3","type":"blocks","created_at":"2026-02-02T12:52:00.344047-07:00","created_by":"bmf"}]}
{"id":"cc-dump-3by","title":"Region-based navigation","description":"UI for navigating to regions by tag ('go to CLAUDE.md', 'go to thinking', 'go to Bash tool definition'). Uses ContentRegion.tags for lookup across all turns.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:41:03.688446-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:41:03.688446-07:00","dependencies":[{"issue_id":"cc-dump-3by","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.839022-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-3gt","title":"Auto-save visibility state on app exit","description":"Current visibility filter state is lost on app exit. Only manually-saved filtersets persist via Ctrl+F1-F8. Auto-save the current filter state to settings.json under a current key on on_unmount. Restore on startup if present. settings.py already has atomic-write support. Files: app.py, settings.py.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-13T03:29:55.070235-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-14T10:28:39.287793-07:00","closed_at":"2026-02-14T10:28:39.287793-07:00","close_reason":"Duplicate of cc-dump-pb4, superseded by cc-dump-7a0 (session resume)."}
{"id":"cc-dump-4z3","title":"Decide whether to replace or augment existing analytics panels","description":"Architecture decision: what to do with existing Stats, Economics, and Timeline panels. Options: (A) Replace all three with single Analytics dashboard. (B) Add Analytics alongside existing panels. (C) Incremental migration - Phase 1: add Analytics with real data, Phase 2: deprecate Economics (fake byte estimates), Phase 3: merge Stats+Timeline into Analytics. Ref: docs/plans/2026-02-01-analytics-dashboard-findings.md Decision 3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-02T12:51:18.42149-07:00","created_by":"bmf","updated_at":"2026-02-21T13:21:42.354582-07:00","closed_at":"2026-02-21T13:21:42.354582-07:00","close_reason":"Resolved Decision 3: adopt incremental analytics panel migration (add alongside, validate, then merge/remove legacy panels).","dependencies":[{"issue_id":"cc-dump-4z3","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.5684-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-5bc","title":"Collapsible code fence regions","description":"Add 'code_fence' to COLLAPSIBLE_REGION_KINDS. Add collapsed/expanded rendering for code blocks. Currently code fences always render expanded.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:41:05.432438-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:41:05.432438-07:00","dependencies":[{"issue_id":"cc-dump-5bc","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.903441-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-5hc","title":"Add recording cleanup functionality","description":"Provide a way to clean up/delete old HAR recordings. Could be: CLI command, TUI interface, or automatic cleanup based on age/size/count limits.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-09T17:01:49.027233-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-09T17:01:49.027233-07:00","dependencies":[{"issue_id":"cc-dump-5hc","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.836806-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-5nd","title":"Decide subagent token attribution approach","description":"Architecture decision needed for subagent token attribution. Options: (A) Tool-level only - track subagent_type in tool_invocations, show call counts but not subagent API usage. (B) Session correlation - link subagent sessions to parent Task invocations, requires session management changes. (C) Defer - ship dashboard without subagent breakdown. Currently subagent_type is in request_json but not extracted to a queryable column. Ref: docs/plans/2026-02-01-analytics-dashboard-findings.md Decision 1","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-02T12:51:11.273538-07:00","created_by":"bmf","updated_at":"2026-02-03T05:54:49.260602-07:00","closed_at":"2026-02-03T05:54:49.260602-07:00","close_reason":"Won't implement. Subagent attribution adds significant complexity for unclear benefit. Current per-tool and per-model breakdowns are sufficient. If subagent tracking becomes necessary in the future, can revisit as a new requirement."}
{"id":"cc-dump-5pi","title":"Add state roundtrip tests for hot-reload preservation","description":"No tests verify that scroll position, block expansion overrides, content region expansion, or panel visibility survive get_state/restore_state roundtrips. Write unit tests that populate realistic state and assert equality after roundtrip. Files: tests/test_hot_reload.py, widget_factory.py.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-13T03:30:29.234233-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T23:24:45.722221-07:00","closed_at":"2026-02-13T23:24:45.722221-07:00","close_reason":"Added 7 deeper state roundtrip tests for hot-reload preservation"}
{"id":"cc-dump-5t7","title":"When using Bash tool, show bash command name and a few args","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:50:23.769884-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:10.594361-07:00","closed_at":"2026-01-30T15:48:10.594361-07:00","close_reason":"Implemented in Sprint 3 (tool-display-enrich), commit 94dd3a3. _tool_detail() extracts first line of bash command."}
{"id":"cc-dump-5th","title":"Add named session support for organizing recordings","description":"Add the concept of a named 'session' to cc-dump for better organization of recordings and saved data.\n\n## Scope\nPrimarily structural changes to recordings/data organization. Minimal functional changes, minimal UI changes.\n\n## Recording Organization\n- All recordings saved to subdirectory named `\u003csession name\u003e/` instead of flat directory\n- Unnamed sessions go into `unnamed-session/` directory\n- User can explicitly specify `--session unnamed-session` (not an error, uses that directory)\n\n## CLI\n- Add CLI argument: `cc-dump --session \u003csession name\u003e`\n\n## UI Changes\n- Display session name in app border at top of screen\n- Format: `┌────────session: my-session──────────────────┐` (session label)\n- Session label must be theme-aware (use palette colors)\n\n## Success Criteria\n- Recordings organized into session-named subdirectories\n- CLI accepts --session argument\n- Session name displayed in UI border\n- Theme-aware styling for session label\n- Unnamed sessions cleanly handled\n- No regression in existing functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T11:22:12.74497-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T15:21:48.165236-07:00","closed_at":"2026-02-11T15:21:48.165236-07:00","close_reason":"Implemented successfully. All 579 tests pass. Recording organization, CLI argument, UI display, and backwards compatibility all verified.","dependencies":[{"issue_id":"cc-dump-5th","depends_on_id":"cc-dump-888","type":"parent-child","created_at":"2026-02-10T11:38:26.139127-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-62j","title":"Fix token count accuracy - count once per request, not per message block","description":"Token counts are currently inflated because they're being counted once per message block instead of once per request.\n\n## Problem\n- Tokens are scoped per request in the Anthropic API\n- Current implementation multiplies token counts by the number of message blocks\n- This dramatically inflates reported token usage (e.g., 5 blocks × 1000 tokens = 5000 reported instead of 1000 actual)\n\n## Root Cause\nToken counting logic is likely in the message block processing loop instead of at the request level.\n\n## Expected Behavior\n- Input tokens: counted once per request (from usage.input_tokens in API response)\n- Output tokens: counted once per request (from usage.output_tokens in API response)\n- Cache tokens: counted once per request if present\n- Database analytics and cost calculations should reflect actual API usage\n\n## Success Criteria\n- Token counts match API response usage fields exactly\n- Cost panel displays accurate token usage\n- Database token_usage table has one row per request with correct counts\n- No multiplication by message block count","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T05:35:19.324982-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T23:51:59.460722-07:00","closed_at":"2026-02-11T23:51:59.460722-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-62j","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.65657-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-6dh","title":"Refactor widget factory and app for simplicity, modularity/composability, data-driven architecture","description":"Push side effects to edges. Improve composability and modularity of widget_factory.py and the rest of the app.","notes":"Incremental refactor slice: stabilized footer stream row to always render (eliminates row show/hide jitter), moved completed stream-chip lifecycle ownership into DomainStore as canonical state, and retained recently completed chips until next stream starts to avoid flash-disappear behavior. Added domain/footer tests and validated event/view-store interactions.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:44.113268-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T22:02:07.73512-07:00","dependencies":[{"issue_id":"cc-dump-6dh","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.925189-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-6pv","title":"Introduce immutable response domain store and move view overrides out of FormattedBlock","description":"Create append-only immutable response domain records and move expand/collapse and similar UI-only state into view store maps, removing domain/view coupling.","status":"closed","priority":1,"issue_type":"feature","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:47:42.249415-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-20T22:51:42.341155-07:00","closed_at":"2026-02-20T22:51:42.341155-07:00","close_reason":"Implemented in 44f2b0d: extracted mutable view state into ViewOverrides and removed view fields from FormattedBlock.","dependencies":[{"issue_id":"cc-dump-6pv","depends_on_id":"cc-dump-yj3","type":"blocks","created_at":"2026-02-20T20:49:47.140869-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-6qa","title":"Sprint 3: Model attribution research","description":"Research model attribution for tool economics.\n\nDeliverables:\n- Research: Are all tools in a turn always the same model?\n- Verify mixed-model pricing scenarios\n- Sub-agent attribution (stretch goal)\n\nSee: .agent_planning/tool-attribution/SPRINT-20260203-140000-model-attribution-PLAN.md\n\nStatus: MEDIUM confidence (1 HIGH, 2 MEDIUM items), needs research first","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T03:21:07.139599-07:00","created_by":"bmf","updated_at":"2026-02-03T05:39:10.220025-07:00","closed_at":"2026-02-03T05:39:10.220025-07:00","close_reason":"Research completed through user clarification: tools across a session use different models (Sonnet/Opus/Haiku). Database already supports this via turn_id→turns.model. Implemented dual-view solution: aggregate (default) and per-model breakdown (Ctrl+M toggle)."}
{"id":"cc-dump-6qw","title":"Add specific renderers for common tool results (Read, Write, Bash, etc)","description":"Create specialized renderers for frequently-used tool results (Read, Write, Bash, Grep, Glob, etc.) to improve readability. Currently all tool results use generic rendering.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:19:47.2344-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:44:44.49436-07:00","closed_at":"2026-02-21T21:44:44.49436-07:00","close_reason":"Added specialized ToolResult renderers for Bash/Grep/Glob with readable output and grep match highlighting","dependencies":[{"issue_id":"cc-dump-6qw","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.763888-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-6qw","depends_on_id":"cc-dump-9cx","type":"blocks","created_at":"2026-02-10T05:53:46.017102-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-70u","title":"Remove RoleBlock and SystemLabelBlock (superseded by containers)","description":"## Context\n\nThe migration from flat block types to hierarchical containers (MessageBlock, SystemSection) was completed in format_request() but the old types and their rendering infrastructure were never deleted.\n\n- RoleBlock (formatting.py:274) — replaced by MessageBlock (formatting.py:444), which renders its own header and holds children. MessageBlock docstring explicitly says \"Replaces RoleBlock + flat block list.\"\n- SystemLabelBlock (formatting.py:254) — replaced by SystemSection (formatting.py:469)\n\nNeither type is instantiated anywhere in src/. They exist only as class definitions with full rendering infrastructure (renderers, BLOCK_CATEGORY entries, search extractors, dump formatter entries) that is never reached by production data.\n\n## Why this matters\n\n~80 lines of dead rendering infrastructure. More importantly, tests still instantiate these types (test_formatting.py:601, test_visual_indicators.py:61, test_tool_rendering.py:458, test_widget_arch.py:88, test_search.py:90), creating the false impression they're alive and making it harder to understand which block types actually matter.\n\n## What to do\n\n1. Delete RoleBlock and SystemLabelBlock class definitions from formatting.py\n2. Delete their renderers from rendering.py (_render_role at line 676, _render_system_label at line 602)\n3. Delete their BLOCK_CATEGORY entries, BLOCK_RENDERERS entries, BLOCK_STATE_RENDERERS entries\n4. Delete their search extractors from search.py\n5. Delete their dump_formatting entries\n6. Update tests that instantiate them — either delete or migrate to MessageBlock/SystemSection\n\n## Files\n\n- src/cc_dump/formatting.py — type definitions\n- src/cc_dump/tui/rendering.py — renderers, BLOCK_CATEGORY, BLOCK_RENDERERS, BLOCK_STATE_RENDERERS\n- src/cc_dump/tui/search.py — _TEXT_EXTRACTORS entries\n- src/cc_dump/tui/dump_formatting.py — isinstance branches\n- tests/test_formatting.py, tests/test_visual_indicators.py, tests/test_tool_rendering.py, tests/test_widget_arch.py, tests/test_search.py — test usage","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":45,"created_at":"2026-02-19T19:52:33.446172-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:02:23.15769-07:00","closed_at":"2026-02-21T13:02:23.15769-07:00","close_reason":"Removed dead RoleBlock/SystemLabelBlock types and all renderer/search/dump/test references; migrated coverage to MessageBlock/SystemSection."}
{"id":"cc-dump-7a0","title":"Session resume from HAR + UI state sidecar","description":"Unify hot-reload state preservation with cross-session persistence. On app exit, write a small JSON sidecar alongside the HAR recording with UI state: scroll position, follow mode, visibility filters, panel visibility, search query. On replay or new --resume flag, apply the UI state. HAR is source of truth for content, sidecar for UI state. Files: settings.py, app.py, cli.py, har_recorder.py.","status":"in_progress","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":240,"created_at":"2026-02-13T03:30:33.259782-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T22:02:34.92683-07:00"}
{"id":"cc-dump-7sh","title":"Optimize ConversationView live streaming path with incremental append and frame coalescing","description":"Replace per-chunk full delta re-join and rerender with incremental append buffers and frame-coalesced paint updates while preserving immediate perceived streaming.","status":"closed","priority":1,"issue_type":"feature","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:49:04.531299-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T10:28:57.931295-07:00","closed_at":"2026-02-21T10:28:57.931295-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-7sh","depends_on_id":"cc-dump-6pv","type":"blocks","created_at":"2026-02-20T20:49:26.622892-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-7we","title":"Restamp active stream blocks on lane reclassification","description":"When StreamRegistry promotes a session to main after Task lineage evidence arrives, request contexts are updated but already-appended live stream blocks keep stale agent_kind/agent_label. Add a request-scoped restamp path so active streaming blocks and footer chips reflect lane changes immediately without waiting for finalization.","status":"closed","priority":2,"issue_type":"bug","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-21T09:56:10.207019-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T09:59:54.186557-07:00","closed_at":"2026-02-21T09:59:54.186557-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-7we","depends_on_id":"cc-dump-8sx","type":"discovered-from","created_at":"2026-02-21T09:56:10.208795-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-848","title":"Design footer indicator for level+expansion state","description":"Find a visual indicator that shows BOTH visibility level (1/2/3 = EXISTENCE/SUMMARY/FULL) AND expansion state (collapsed/expanded) in a single icon or glyph. This is a tall order but would improve footer UX significantly. Current system only shows level, not expansion state.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:01:54.257656-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T17:01:58.398972-07:00","closed_at":"2026-02-10T17:01:58.398972-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-848","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.306946-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-888","title":"Multi-session support","description":"Epic for multi-session support - ability to view and manage multiple Claude Code sessions simultaneously.\n\n## Vision\nEnable cc-dump to handle multiple concurrent sessions, with UI support for switching between sessions, comparing sessions, and aggregate analytics across sessions.\n\n## Potential Features\n- Session list/selector UI\n- Session switching without restart\n- Multi-session analytics and comparison\n- Session persistence and restore\n- Concurrent session monitoring\n\n## Initial Work\nSee cc-dump-08z: Investigate multi-session architecture and requirements","status":"open","priority":3,"issue_type":"epic","created_at":"2026-02-10T05:38:19.213183-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T05:38:37.383837-07:00","dependencies":[{"issue_id":"cc-dump-888","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.730572-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-888","depends_on_id":"cc-dump-08z","type":"blocks","created_at":"2026-02-10T05:53:46.541152-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-8bn","title":"Build minimal analytics dashboard with real API data","description":"Build a unified analytics dashboard using only real API data from the turns table. No estimates or byte-based approximations. Views: (1) Summary - session totals, cache efficiency, cost. (2) Timeline - per-turn progression (cache%, delta). (3) Models - breakdown by model. Data: input_tokens, output_tokens, cache_read_tokens, cache_creation_tokens. UX: single dashboard, cycle views with Tab. Ref: docs/plans/2026-02-01-analytics-dashboard-findings.md","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-02T12:51:09.075659-07:00","created_by":"bmf","updated_at":"2026-02-21T21:32:09.817048-07:00","closed_at":"2026-02-21T21:32:09.817048-07:00","close_reason":"Implemented unified analytics dashboard (summary/timeline/models) with real API usage fields and Tab mode cycling","dependencies":[{"issue_id":"cc-dump-8bn","depends_on_id":"cc-dump-5nd","type":"blocks","created_at":"2026-02-02T12:51:51.757253-07:00","created_by":"bmf"},{"issue_id":"cc-dump-8bn","depends_on_id":"cc-dump-ekt","type":"blocks","created_at":"2026-02-02T12:51:54.586942-07:00","created_by":"bmf"},{"issue_id":"cc-dump-8bn","depends_on_id":"cc-dump-4z3","type":"blocks","created_at":"2026-02-02T12:51:57.268529-07:00","created_by":"bmf"},{"issue_id":"cc-dump-8bn","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.496365-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-8bn","depends_on_id":"cc-dump-62j","type":"blocks","created_at":"2026-02-10T05:53:45.632913-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-8sx","title":"Use Task tool lineage for subagent lane attribution","description":"Replace session-order-only lane assignment with Task-tool lineage attribution so orchestrator and subagent streams are deterministically classified. Main response blocks must never appear under subagent lanes. Keep request_id as canonical stream key and preserve replay/live parity.","status":"closed","priority":1,"issue_type":"bug","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-21T04:57:33.122262-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T05:09:54.764055-07:00","closed_at":"2026-02-21T05:09:54.764055-07:00","close_reason":"Closed"}
{"id":"cc-dump-8vl","title":"Streaming text not aggregated into final block - shows chunked output with newlines","description":"When a streaming text block finishes, the final rendered output still shows the raw chunked streaming fragments separated by newlines instead of the complete aggregated text. Each SSE chunk appears on its own line, producing output like:\\n\\nAll\\n\\n7 tracked\\n be\\nads\\n are closed\\n\\nExpected: once streaming completes, the block should re-render with the full concatenated text as a single paragraph.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-30T15:53:19.72004-07:00","created_by":"bmf","updated_at":"2026-01-30T16:00:33.805941-07:00","closed_at":"2026-01-30T16:00:33.805941-07:00","close_reason":"Fixed in commit 1545b4e. StreamingRichLog.finalize() now consolidates consecutive TextDeltaBlock objects into a single TextContentBlock before returning to ConversationView."}
{"id":"cc-dump-9cx","title":"Ensure code syntax highlighting is working","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:40.193248-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T23:52:39.417967-07:00","closed_at":"2026-02-11T23:52:39.417967-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-9cx","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.146379-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-9gi","title":"Pipeline should speak complete messages, not SSE events","description":"Long-term architecture: the event pipeline should operate on complete HTTP request/response messages, not SSE fragments. SSE is a transport detail that should be reassembled at the proxy boundary before entering the pipeline. Streaming UX (progressive rendering) is a rendering concern, not a pipeline concern.\n\nCurrently the streaming path emits per-SSE-line events (ResponseSSEEvent, MessageStartEvent, ContentBlockDelta, etc.) that propagate through router, event_handlers, and formatting. The non-streaming path now correctly emits ResponseNonStreamingEvent with the complete response body.\n\nEnd state: both paths produce the same complete-message event type. The proxy reassembles SSE into complete messages, optionally emitting progress hints for the rendering layer to show incremental updates. This eliminates the streaming/non-streaming split in event_handlers and formatting.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-19T22:42:39.854577-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:16:57.340783-07:00","closed_at":"2026-02-21T13:16:57.340783-07:00","close_reason":"Switched live pipeline from SSE fragment events to normalized response progress hints + canonical complete responses; retained legacy SSE compatibility seam in handlers.","dependencies":[{"issue_id":"cc-dump-9gi","depends_on_id":"cc-dump-yj3","type":"blocks","created_at":"2026-02-20T20:50:49.43819-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-9nv","title":"Run or automate d6u smoke checks M1-M4","description":"Execute and document the four manual smoke checks from cc-dump-d6u summary: M1 live proxy analytics, M2 HAR capture validity, M3 replay parity, M4 tmux auto-zoom behavior. Prefer codifying these as deterministic integration checks where possible.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T22:56:52.566166-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T12:49:40.38626-07:00","closed_at":"2026-02-21T12:49:40.38626-07:00","close_reason":"Automated and documented M1-M4 d6u smoke checks via deterministic pytest suite and just smoke-d6u.","dependencies":[{"issue_id":"cc-dump-9nv","depends_on_id":"cc-dump-d6u","type":"discovered-from","created_at":"2026-02-20T22:56:52.567938-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-9pt","title":"Virtually render the conversation panel","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-24T21:48:06.077243-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:16.166139-07:00","closed_at":"2026-01-30T15:48:16.166139-07:00","close_reason":"Implemented in Sprint 1 (widget-arch). ConversationView uses ScrollView + Line API with virtual rendering via render_line()."}
{"id":"cc-dump-9v5","title":"Add specific renderers for common tool results (Read, Write, Bash, etc)","description":"Create specialized renderers for frequently-used tool results (Read, Write, Bash, Grep, Glob, etc.) to improve readability. Currently all tool results use generic rendering.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:19:51.061343-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:45:21.730025-07:00","closed_at":"2026-02-21T21:45:21.730025-07:00","close_reason":"Implemented via cc-dump-6qw: specialized tool result renderers now cover Read/Write/Edit/Bash/Grep/Glob","dependencies":[{"issue_id":"cc-dump-9v5","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.710726-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-9v5","depends_on_id":"cc-dump-9cx","type":"blocks","created_at":"2026-02-10T05:53:45.940789-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-9z0","title":"Add live-vs-replay parity contracts and concurrency streaming regression tests","description":"Add contract tests ensuring live SSE assembly and HAR replay produce equivalent complete-response domain data, plus interleaved request concurrency tests and latency budget assertions.","status":"closed","priority":1,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:48:59.49957-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T10:53:03.917318-07:00","closed_at":"2026-02-21T10:53:03.917318-07:00","close_reason":"Closed","dependencies":[{"issue_id":"cc-dump-9z0","depends_on_id":"cc-dump-0xo","type":"blocks","created_at":"2026-02-20T20:50:21.776605-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-9z0","depends_on_id":"cc-dump-7sh","type":"blocks","created_at":"2026-02-20T20:50:37.08654-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-9z0","depends_on_id":"cc-dump-xmg","type":"blocks","created_at":"2026-02-20T20:50:49.315046-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-9z0","depends_on_id":"cc-dump-d6u","type":"blocks","created_at":"2026-02-20T20:50:54.400222-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-a00","title":"Fix keybindings: replace 'q' for exiting search in NAVIGATING context","description":"q must not be used for exiting search in the NAVIGATING context. Changes needed:\n- Tab: exits search, keep position\n- Esc: exits search, keep position\n- Backtick (`): exits search, restore position","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-02-10T17:18:31.343587-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T08:52:38.428172-07:00","closed_at":"2026-02-11T08:52:38.428172-07:00","close_reason":"Closed"}
{"id":"cc-dump-a0t","title":"Headers functionality should show HTTP headers","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:48:07.918391-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:14.538006-07:00","closed_at":"2026-01-30T15:48:14.538006-07:00","close_reason":"Implemented in Sprint 5 (http-headers), commit aa5ae61. Proxy emits HTTP headers, displayed under headers filter toggle."}
{"id":"cc-dump-a16","title":"ContentRegion-powered features","description":"Features enabled by the ContentRegion foundation redesign (kind/tags fields, all-segment regions, transform hook, collapsibility guard). Parent epic for hide-empty, coalesce, navigation, collapsible code fences, and UX redesign.","status":"open","priority":3,"issue_type":"epic","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:41:39.046127-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:41:39.046127-07:00"}
{"id":"cc-dump-a5y","title":"Add multi-lane subagent live view mode","description":"Extend footer-chip focused streaming to an optional multi-lane side-by-side live viewport for concurrent main/subagent streams, preserving request_id isolation and finalization semantics.","status":"closed","priority":2,"issue_type":"feature","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-21T01:52:28.258671-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T11:08:43.727888-07:00","closed_at":"2026-02-21T11:08:43.727888-07:00","close_reason":"Closed"}
{"id":"cc-dump-afi","title":"Refactor expand/collapse to use Textual widgets instead of coordinate checking","description":"Current implementation renders arrows as Segments in Strips, then manually checks click X coordinates against GUTTER_WIDTH. This is fragile and wrong.\n\nThe proper approach: The expand/collapse arrow should be a Textual widget (like Checkbox or a custom Toggle) that handles its own click events. Textual automatically routes clicks to the correct widget - no coordinate math needed.\n\nThis applies to:\n1. Block-level expand/collapse arrows in the left gutter\n2. XML sub-block expand/collapse arrows inline\n\nReferences:\n- widget_factory.py on_click() - current coordinate checking\n- rendering.py _add_gutter_to_strips() - current arrow rendering as Segment","status":"tombstone","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-12T19:47:19.646738-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-12T19:49:03.262936-07:00","deleted_at":"2026-02-12T19:49:03.262936-07:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"cc-dump-aj7","title":"Match text colors to Claude Code/Textual theme","description":"Text colors (especially in markdown rendering) should match either Claude Code's theme or Textual's built-in theme for better visual consistency and familiarity.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:01:46.039449-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:40:58.740307-07:00","closed_at":"2026-02-21T21:40:58.740307-07:00","close_reason":"Aligned markdown/body/table/hr and panel context text colors to theme-derived semantic colors for better Textual/Claude consistency","dependencies":[{"issue_id":"cc-dump-aj7","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.411404-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-aj7","depends_on_id":"cc-dump-9cx","type":"blocks","created_at":"2026-02-10T05:53:46.0929-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ax6","title":"Track changed turn range during rerender","description":"Modify ConversationView.rerender() to track first_changed turn index instead of just a boolean. This provides the starting point for incremental offset recalculation. No dependencies - foundational change.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:19:31.481484-07:00","created_by":"bmf","updated_at":"2026-02-03T04:00:46.464414-07:00","closed_at":"2026-02-03T04:00:46.464417-07:00","dependencies":[{"issue_id":"cc-dump-ax6","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:19:31.483882-07:00","created_by":"bmf"}]}
{"id":"cc-dump-ay4","title":"Refactor test suite for modularity and data-driven architecture","description":"Refactor test suite to improve quality, maintainability, and alignment with architectural principles:\n\n## Goals\n- Extract helpers/builders for common patterns (process management, TUI interaction, content validation)\n- Apply data-driven-architecture: same operations every run, variability in data not control flow\n- Ensure modularity and composability within test suites\n- Remove useless tests: keep single-purpose, flexible tests; remove unrealistic scenarios\n- Verify adequate coverage of realistic scenarios\n- Organize intelligently by feature/layer\n\n## Current State\n- Test suite runs in ~113s (optimized from 254s)\n- Class-scoped fixtures for process sharing\n- Some duplication in setup/assertion patterns\n- Mix of unit and integration tests without clear organization\n\n## Success Criteria\n- Reusable test builders/helpers extracted (e.g., TUIValidator, ProcessBuilder)\n- Tests follow data-driven patterns (parameterized where appropriate)\n- No dead/unrealistic tests\n- Clear organization (unit/integration/e2e hierarchy)\n- Coverage maintained or improved\n- Runtime ≤113s (no regression)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:32:30.651808-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T17:01:19.195743-07:00","closed_at":"2026-02-10T17:01:19.195743-07:00","close_reason":"Closed"}
{"id":"cc-dump-b4s","title":"Hide empty blocks in rendering","description":"Filter out blocks with no visible content at current visibility level. Implement as a block transform in _BLOCK_TRANSFORMS. Rendering concern only — no changes to formatting.py.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:40:57.227287-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:40:57.227287-07:00","dependencies":[{"issue_id":"cc-dump-b4s","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.638782-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-b85","title":"Fix mypy regressions after ViewOverrides migration","description":"Resolve mypy failures introduced by cc-dump-6pv in rendering/widget_factory path. Current failures from just lint: src/cc_dump/tui/rendering.py lines 2017, 2018, 2056, 2094, 2095, 2112 and src/cc_dump/tui/widget_factory.py line 697. Ensure type-safe handling for content_regions and override state maps without widening to object.","status":"closed","priority":1,"issue_type":"bug","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T22:56:57.616202-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T01:52:54.312365-07:00","closed_at":"2026-02-21T01:52:54.312365-07:00","close_reason":"Resolved mypy regressions in rendering/widget_factory/app/event dispatch; just check passes clean.","dependencies":[{"issue_id":"cc-dump-b85","depends_on_id":"cc-dump-6pv","type":"discovered-from","created_at":"2026-02-20T22:56:57.617669-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-bbe","title":"Add lazy off-viewport rendering in render_line()","description":"Modify render_line() to check for _pending_filter_snapshot on turns and lazily re-render them when they scroll into view. Completes the viewport optimization by deferring off-screen work. Blocked by cc-dump-16r (needs viewport logic).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-03T03:19:57.265968-07:00","created_by":"bmf","updated_at":"2026-02-03T13:57:06.515233-07:00","closed_at":"2026-02-03T13:57:06.515233-07:00","close_reason":"Implemented lazy off-viewport rendering: render_line() checks _pending_filter_snapshot and re-renders turns on-demand when scrolled into view, with deferred offset recalculation via call_later()","dependencies":[{"issue_id":"cc-dump-bbe","depends_on_id":"cc-dump-16r","type":"blocked-by","created_at":"2026-02-03T03:19:57.269158-07:00","created_by":"bmf"},{"issue_id":"cc-dump-bbe","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:19:57.269952-07:00","created_by":"bmf"}]}
{"id":"cc-dump-bsj","title":"Deduplicate _fmt_tokens and identical skill/agent renderers","description":"## Context\n\nThree copy-paste duplications found in the audit:\n\n### 1. _fmt_tokens() — identical function in two files\n\nrendering.py:2385 and panel_renderers.py:13 have byte-identical implementations:\n```python\ndef _fmt_tokens(n: int) -\u003e str:\n    if n \u003e= 1000:\n        return \"{:.1f}k\".format(n / 1000)\n    return str(n)\n```\n\nShould exist in one place (analysis.py is the natural home since it's the token math module) and be imported by both.\n\n### 2. _render_skill_def_child and _render_agent_def_child — identical renderers\n\nrendering.py:1587-1608. Both extract name and description, truncate description to 60 chars, and format identically. The only difference is the function name and type annotation. Violates one-type-per-behavior — should be a single _render_named_child_def() registered for both block types.\n\n### 3. _parse_skill_children and _parse_agent_children — near-identical parsers\n\nformatting.py:840-901. Both iterate description lines looking for \"- name: description\" patterns. Core line-parsing logic is duplicated. Only difference is output block type (SkillDefChild vs AgentDefChild) and extra fields. Could be parameterized.\n\n## Why this matters\n\nEvery new \"definition list\" block type (skills, agents, future types) requires copying the same parser and renderer pattern. With one parameterized version, adding a new type is a data change, not a code duplication.\n\n## Files\n\n- src/cc_dump/tui/rendering.py:2385, 1587-1608\n- src/cc_dump/tui/panel_renderers.py:13\n- src/cc_dump/formatting.py:840-901\n- src/cc_dump/analysis.py (destination for shared _fmt_tokens)","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-19T19:53:46.871924-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:10:49.08161-07:00","closed_at":"2026-02-21T13:10:49.08161-07:00","close_reason":"Deduplicated compact token formatter and unified skill/agent definition parser+renderer paths with regression coverage."}
{"id":"cc-dump-c9v","title":"Add request-id envelope and sequence metadata on response pipeline events","description":"Tag response-side events with request_id, per-request sequence, and timestamps to support concurrent stream correctness and deterministic reconstruction across subscribers.","status":"closed","priority":1,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:47:47.212249-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-20T21:20:17.579028-07:00","closed_at":"2026-02-20T21:20:17.579028-07:00","close_reason":"Closed"}
{"id":"cc-dump-d6u","title":"Migrate analytics, HAR recorder, and tmux subscribers to complete-response events","description":"Cut over non-UI subscribers from ResponseSSEEvent semantics to complete-response records plus explicit progress hints. Remove duplicate SSE reconstruction paths.","status":"closed","priority":1,"issue_type":"feature","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:48:59.506886-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-20T21:59:41.999501-07:00","closed_at":"2026-02-20T21:59:41.999501-07:00","close_reason":"Implemented in f3029e5: migrated analytics/HAR/tmux subscribers to ResponseCompleteEvent and fixed proxy ordering.","dependencies":[{"issue_id":"cc-dump-d6u","depends_on_id":"cc-dump-yj3","type":"blocks","created_at":"2026-02-20T20:49:26.638552-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-djl","title":"Show something meaningful for tool results when collapsed","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:50:25.760177-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:13.257814-07:00","closed_at":"2026-01-30T15:48:13.257814-07:00","close_reason":"Implemented in Sprint 4 (tool-correlation-summaries), commit 721e7a7. Tool results show summary with tool name when collapsed."}
{"id":"cc-dump-dlc","title":"Show front-ellipsed filename for Read tool","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:48:04.558606-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:07.492664-07:00","closed_at":"2026-01-30T15:48:07.492664-07:00","close_reason":"Implemented in Sprint 3 (tool-display-enrich), commit 94dd3a3. _tool_detail() extracts file_path and front-ellipses it via _front_ellipse_path()."}
{"id":"cc-dump-dos","title":"Replace byte-based token estimates with actual data in economics panel","description":"Current tool economics panel uses fake estimates from byte sizes.\n\nNeed to use actual token counts from database instead of estimates.\n\nThis is a interim fix while we wait for per-tool attribution (cc-dump-un8).\nFor now, show what we actually have accurately rather than bad estimates.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-02-02T20:35:44.343545-07:00","created_by":"bmf","updated_at":"2026-02-03T05:39:26.623304-07:00","closed_at":"2026-02-03T05:39:26.623304-07:00","close_reason":"Already implemented in Sprint 1 (cc-dump-un8). Panel now uses actual token counts from tool_invocations table (input_tokens, result_tokens) instead of byte-based estimates. See db_queries.py:135-136."}
{"id":"cc-dump-e38","title":"Cache per-turn widest line width","description":"Add _widest_strip field to TurnData and cache it during re_render(). Update _recalculate_offsets_from() to use cached values instead of iterating all strips. Eliminates O(n*m) strip iteration for width calculation. Independent but enhances cc-dump-0oo.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:19:44.748785-07:00","created_by":"bmf","updated_at":"2026-02-03T04:00:50.92838-07:00","closed_at":"2026-02-03T04:00:50.928382-07:00","dependencies":[{"issue_id":"cc-dump-e38","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:19:44.751603-07:00","created_by":"bmf"}]}
{"id":"cc-dump-e3f","title":"Port ToolDefinitionsBlock features to ToolDefBlock, then remove old type","description":"## Context\n\nToolDefinitionsBlock (formatting.py:238) was replaced by ToolDefsSection + ToolDefBlock children for a hierarchical approach (one block per tool, each independently expandable). No production code creates ToolDefinitionsBlock anymore.\n\nHowever, the ToolDefinitionsBlock renderers (rendering.py:1074-1190, ~120 lines) are MORE feature-rich than the current ToolDefBlock renderers. They show:\n- Token counts per tool and total token counts\n- Parameter schemas with required field markers (*)  \n- Property types\n- Aligned two-column layout (name + token count)\n\nThe current ToolDefBlock renderers are simpler and don't display this information. Deleting ToolDefinitionsBlock without porting these features means losing the more complete rendering.\n\n## Why this matters\n\nThis is the most complex dead rendering infrastructure (~120 lines, 4 state renderers + 1 region renderer). But it's not worthless code — it represents the mature version of tool definition display. The replacement is a step backward in functionality.\n\n## What to do\n\n1. Review ToolDefinitionsBlock renderers at rendering.py:1074-1190\n2. Port token count display, parameter schema rendering, and required markers to ToolDefBlock renderers\n3. Delete ToolDefinitionsBlock class, all its renderers, BLOCK_CATEGORY/BLOCK_RENDERERS/BLOCK_STATE_RENDERERS entries, region renderer\n4. Update any tests that instantiate ToolDefinitionsBlock\n\n## Files\n\n- src/cc_dump/formatting.py:238 — old ToolDefinitionsBlock class\n- src/cc_dump/tui/rendering.py:1074-1190 — old renderers (source of features to port)\n- src/cc_dump/tui/rendering.py ToolDefBlock renderers — destination for ported features\n- src/cc_dump/tui/rendering.py:1682-1685 — BLOCK_STATE_RENDERERS entries to remove\n- src/cc_dump/tui/rendering.py:1959 — _REGION_PART_RENDERERS entry to remove\n- tests/test_formatting.py:1183 — test instantiation to update","status":"closed","priority":2,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-19T19:52:49.254379-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T11:56:01.760714-07:00","closed_at":"2026-02-21T11:56:01.760714-07:00","close_reason":"Ported ToolDefinitions rendering capabilities into ToolDefBlock/ToolDefsSection and removed legacy ToolDefinitionsBlock type/renderers."}
{"id":"cc-dump-e3g","title":"Tool use and tool_response should be correlated via colors","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-24T21:50:20.07312-07:00","created_by":"bmf","updated_at":"2026-01-30T15:48:11.662458-07:00","closed_at":"2026-01-30T15:48:11.662458-07:00","close_reason":"Implemented in Sprint 4 (tool-correlation-summaries), commit 721e7a7. Tool use/result pairs share correlated colors via tool_use_id lookup."}
{"id":"cc-dump-eih","title":"Indicate subagents in TUI","description":"Currently we don't do anything special to handle or indicate subagents. We should add some visual indication when Claude is running subagents (e.g., in the conversation view, analytics panels, or status indicators).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:01:43.897784-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:39:11.321537-07:00","closed_at":"2026-02-21T21:39:11.321537-07:00","close_reason":"Extended subagent indication into analytics dashboard summary using DomainStore lane attribution (main/subagent turn counts + active subagent streams)","dependencies":[{"issue_id":"cc-dump-eih","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.462704-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-eih","depends_on_id":"cc-dump-8bn","type":"blocks","created_at":"2026-02-10T05:53:46.319009-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ekt","title":"Decide content type breakdown approach","description":"Architecture decision: how to handle content type token breakdown (system prompts, tool results, conversation, code). Options: (A) Estimated from request_json - user already rejected estimates. (B) Skip entirely - focus on cache/input/output which are real. (C) Request API enhancement from Anthropic - not under our control. Recommendation: Option B (skip). Ref: docs/plans/2026-02-01-analytics-dashboard-findings.md Decision 2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-02T12:51:14.286131-07:00","created_by":"bmf","updated_at":"2026-02-21T13:20:42.6582-07:00","closed_at":"2026-02-21T13:20:42.6582-07:00","close_reason":"Resolved analytics Decision 2: content-type token breakdown is skipped in v1; documented authoritative scope and revisit conditions.","dependencies":[{"issue_id":"cc-dump-ekt","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.621345-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-fd7","title":"Address widgets.py stale class references after hot-reload","description":"widgets.py uses from-imports to widget_factory.py, a reloadable module. After reload, widgets.py holds OLD class references. Nothing currently breaks because CSS ID queries are used, but any future isinstance check will fail. Options: delete widgets.py, document the trap, or make it a dynamic re-export.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-13T03:30:26.907411-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T23:24:44.178366-07:00","closed_at":"2026-02-13T23:24:44.178366-07:00","close_reason":"Deleted unused tui/widgets.py re-export module, removed from _EXCLUDED_MODULES"}
{"id":"cc-dump-gaq","title":"Clean mypy baseline outside SSE tickets","description":"Track existing mypy failures not directly fixed by cc-dump-6pv/cc-dump-d6u: import-untyped snarfx.hot_reload in settings_store.py/view_store.py and app.py type issues at lines 366, 554, 843. Decide whether to add stubs, typed wrappers, or targeted ignores with rationale.","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T22:57:15.855893-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:18:54.51496-07:00","closed_at":"2026-02-21T13:18:54.51496-07:00","close_reason":"Added local stub for snarfx.hot_reload HotReloadStore and removed import-untyped ignores from settings/view stores; mypy baseline remains clean.","dependencies":[{"issue_id":"cc-dump-gaq","depends_on_id":"cc-dump-tcr","type":"discovered-from","created_at":"2026-02-20T22:57:15.858679-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-gh9","title":"Fix model display names hardcoded as 4.5","description":"## Context\n\nanalysis.py:421-427 hardcodes model display names:\n\n```python\n_MODEL_DISPLAY = {\n    \"opus\": \"Opus 4.5\",\n    \"sonnet\": \"Sonnet 4.5\",\n    \"haiku\": \"Haiku 4.5\",\n}\n```\n\nclassify_model() matches on \"opus\"/\"sonnet\"/\"haiku\" substrings, so model strings like \"claude-opus-4-6-20260114\" display as \"Opus 4.5\". The NOTE comment acknowledges this will need updating.\n\n## Why this matters\n\nQuietly incorrect — the economics panel shows \"Opus 4.5\" for what is actually Opus 4.6. Users looking at cost breakdowns see the wrong model version.\n\n## Options\n\n1. Simple fix: update the strings to current versions\n2. Better fix: derive the version from the model string instead of hardcoding (e.g., extract \"4.6\" from \"claude-opus-4-6-20260114\")\n\nOption 2 is more robust but the model string format may not be guaranteed stable.\n\n## Files\n\n- src/cc_dump/analysis.py:421-427 — _MODEL_DISPLAY dict\n- src/cc_dump/analysis.py:430-470 — classify_model() function","status":"closed","priority":2,"issue_type":"bug","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-19T19:53:57.702697-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T11:31:36.36489-07:00","closed_at":"2026-02-21T11:31:36.36489-07:00","close_reason":"Closed"}
{"id":"cc-dump-ghm","title":"Filter toggle performance optimization for large conversations","description":"Epic: Filter toggle performance optimization for large conversations\n\n## Problem\nFilter toggles become slow in large conversations (1000+ turns). Current implementation has O(n×m) complexity where n=turns and m=avg strips per turn. This causes noticeable lag when toggling filters.\n\n## Performance Bottlenecks\n1. ALL turns are checked for re-rendering (O(n))\n2. Offset recalculation iterates all turns and strips (O(n×m))\n3. Complete cache invalidation on every change\n4. Unnecessary strip width scanning\n\n## Solution Phases\n\n### Phase 1: Quick Wins (P1) - 5-10× speedup\n- cc-dump-ax6: Track changed turn range\n- cc-dump-0oo: Incremental offset recalculation\n- cc-dump-e38: Cache per-turn widest line\n\n### Phase 2: Medium-Term (P2) - 20-50× speedup for large convos\n- cc-dump-16r: Viewport-only re-rendering\n- cc-dump-bbe: Lazy off-viewport rendering\n- cc-dump-0fe: Partial cache invalidation\n\n### Phase 3: Future (P3) - Polish \u0026 edge cases\n- cc-dump-ozs: Background rendering\n- cc-dump-o7u: Strip content hashing\n\n## Expected Gains\n100 turns: 50ms → 5ms\n1,000 turns: 500ms → 20ms\n10,000 turns: 5s → 50ms\n\n## Implementation Order\nPhase 1 first (foundation), then Phase 2 (viewport), then Phase 3 (polish).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:19:25.645213-07:00","created_by":"bmf","updated_at":"2026-02-03T05:45:15.536051-07:00","closed_at":"2026-02-03T05:45:15.536051-07:00","close_reason":"Phase 2/3 optimizations completed: block caching, selective cache invalidation, DB indexes, SQL aggregation"}
{"id":"cc-dump-h86","title":"Fix token formatting: remove 't' suffix, just use 'k'","description":"Current formatting shows '2.5kt' but should show '2.5k'.\n\nWe already know we're talking about tokens, the 't' suffix is redundant.\n\nChange _fmt_tokens() usage in panel renderers to not append 't'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-02T20:35:52.793249-07:00","created_by":"bmf","updated_at":"2026-02-03T05:38:56.395705-07:00","closed_at":"2026-02-03T05:38:56.395705-07:00","close_reason":"Fixed token formatting - removed 't' suffix, now shows '2.5k' instead of '2.5kt'. Part of model breakdown implementation."}
{"id":"cc-dump-hf2","title":"Improve analytics panels","description":"Current analytics panels need enhancement. Consider: better visualizations, more useful metrics, clearer layout, and potentially new analytics dimensions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:01:47.06878-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:34:53.71045-07:00","closed_at":"2026-02-21T21:34:53.71045-07:00","close_reason":"Enhanced unified analytics dashboard UX with cache savings, model share, latest model context, and timeline trend sparkline using real API token fields","dependencies":[{"issue_id":"cc-dump-hf2","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.358801-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-hf2","depends_on_id":"cc-dump-8bn","type":"blocks","created_at":"2026-02-10T05:53:46.242502-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-hrz","title":"Improve display of tool use results","notes":"Implemented specialized full renderers for ToolUseBlock (Read/Write/Grep/Glob) with focused tests in tests/test_tool_rendering.py. Verified via just test tests/test_tool_rendering.py and just check.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:45.746365-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:47:34.550669-07:00","closed_at":"2026-02-21T21:47:34.550669-07:00","close_reason":"Completed","dependencies":[{"issue_id":"cc-dump-hrz","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.817079-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-hrz","depends_on_id":"cc-dump-9v5","type":"blocks","created_at":"2026-02-10T05:53:46.168556-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-i17","title":"Add HAR recording and replay capabilities to allow restoring application from saved state","description":"Implement comprehensive HTTP request/response recording (HAR format or equivalent) and replay capabilities. Key requirements:\n\n1. Verbatim persistent recording of all HTTP requests/responses\n2. HAR format preferred, but must choose format that fulfills all needs\n3. Loading from serialization must become the DEFAULT/ONLY code path\n4. Critical architectural constraint: Write/read code must hand data to live pipeline\n5. Goal: Zero divergence between 'live display' and 'restore session' code paths\n\nThis ensures single source of truth (recorded data) and eliminates dual-write risk.\n\n## Progress\n\n**Sprint 1 (event-recording): COMPLETE** (commit 2d772e7)\n- HAR 1.2 recording subscriber implemented\n- Accumulates streaming SSE events, reconstructs complete messages\n- Integrated into cli.py with --record/--no-record flags\n- 18 comprehensive tests, all passing\n- Default output: ~/.local/share/cc-dump/recordings/recording-\u003csession\u003e.har\n\n**Sprint 2 (event-replay): COMPLETE** (commit 0ada6d0)\n- HAR replay module implemented (har_replayer.py)\n- load_har(): parses HAR and extracts request/response pairs\n- convert_to_events(): converts complete messages to synthetic SSE events\n- CLI --replay flag: batch loads all events and displays in TUI\n- Uses same pipeline (router → subscribers → formatting) as live mode\n- 25 tests (21 unit + 4 integration), all passing\n- Content tracking state accumulates identically to live sessions\n\n**Sprint 3 (unification): TODO**\n- Make replay the default code path\n- Ensure zero divergence between live and replay display","notes":"Completed all 3 sprints: HAR recording, replay, and pipeline unification. 21 new tests passing. HAR is now single source of truth.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-02-03T03:48:26.886057-07:00","created_by":"bmf","updated_at":"2026-02-03T05:46:10.791453-07:00","closed_at":"2026-02-03T05:46:10.791456-07:00","close_reason":"Sprint 3 complete: session management (--list, --replay latest), end-to-end tests (21 tests, zero divergence verified), architecture documentation updated. HAR = source of truth, SQLite = derived index. All acceptance criteria met."}
{"id":"cc-dump-i7p","title":"Improve search widget keyboard shortcuts","notes":"Improved search keyboard shortcuts: added readline-style edit keys (^A/^E/^W/^U/^K, ^H, ^D, alt+b/f, alt+backspace), added search-nav keys (^N/^P, Tab/Shift+Tab), updated search help text + footer key hints, and added focused shortcut tests. Verified with targeted pytest + just check.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:44.932569-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:57:46.346678-07:00","closed_at":"2026-02-21T21:57:46.346678-07:00","close_reason":"Completed","dependencies":[{"issue_id":"cc-dump-i7p","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.86856-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-i7p","depends_on_id":"cc-dump-ub9","type":"blocks","created_at":"2026-02-10T05:53:46.46743-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn","title":"Remove all hasattr usage — replace with proper type checks","description":"hasattr is a duck-typing hack that hides type mismatches. Each child issue addresses one usage site. Replace with isinstance checks, declared fields, or proper Protocol usage.","status":"open","priority":3,"issue_type":"epic","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:32.095816-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:32.095816-07:00"}
{"id":"cc-dump-ipn.1","title":"protocols.py: Replace hasattr duck-type check with runtime_checkable Protocol","description":"File: src/cc_dump/tui/protocols.py:83. Currently loops over method names and uses hasattr(widget, method_name) to check protocol compliance. Replace with a @runtime_checkable Protocol class and isinstance check.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:39.285014-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:39.285014-07:00","dependencies":[{"issue_id":"cc-dump-ipn.1","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:39.2861-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.2","title":"theme_controller.py: Declare _markdown_theme_pushed on App class","description":"File: src/cc_dump/tui/theme_controller.py:37,49. Two hasattr checks for app._markdown_theme_pushed — monkey-patched state. Declare the attribute on the App subclass (cc-dump's own App subclass, not Textual's App) so the type system knows about it. Remove both hasattr guards.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:42.248867-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:50:47.569407-07:00","dependencies":[{"issue_id":"cc-dump-ipn.2","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:42.249689-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.3","title":"rendering.py: Declare _segment_result field on FormattedBlock","description":"File: src/cc_dump/tui/rendering.py:583. hasattr(block, '_segment_result') used for lazy caching. Add _segment_result as a declared field on the dataclass (e.g., field(default=None, repr=False)) instead of monkey-patching.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:44.584646-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:44.584646-07:00","dependencies":[{"issue_id":"cc-dump-ipn.3","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:44.585411-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.4","title":"rendering.py: Replace hasattr content check with isinstance","description":"File: src/cc_dump/tui/rendering.py:1879. hasattr(block, 'content') to check if a FormattedBlock subclass has content. Replace with isinstance against the specific block types that have content, or declare content as an Optional field on the base class.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:47.060254-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:47.060254-07:00","dependencies":[{"issue_id":"cc-dump-ipn.4","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:47.061045-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.5","title":"test_scroll_nav.py: Replace hasattr assertion with direct attribute access","description":"File: tests/test_scroll_nav.py:59. hasattr(conv, '_scrolling_programmatically') used as assertion. If the attribute is declared on the class, just access it directly. Tests behavior not structure.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:48.825578-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:48.825578-07:00","dependencies":[{"issue_id":"cc-dump-ipn.5","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:48.826398-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.6","title":"test harness: Replace hasattr renderable check with isinstance(Text)","description":"File: tests/harness/content.py:41. hasattr(renderable, 'plain') to duck-type Rich Text. Replace with isinstance(renderable, Text) from rich.text.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:50.990267-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:50.990267-07:00","dependencies":[{"issue_id":"cc-dump-ipn.6","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:50.991056-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ipn.7","title":"test_widget_arch.py: Replace hasattr strip check with isinstance(Strip)","description":"File: tests/test_widget_arch.py:142. hasattr(strip, 'cell_length') used to verify strip type. Replace with isinstance(strip, Strip) from textual.strip.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T22:38:52.470861-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T22:38:52.470861-07:00","dependencies":[{"issue_id":"cc-dump-ipn.7","depends_on_id":"cc-dump-ipn","type":"parent-child","created_at":"2026-02-13T22:38:52.47159-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-iwe","title":"Highlight special request content and add navigation","description":"Highlight when requests contain: CLAUDE.md content, hook insertions, skill considerations, skill sends, or tool use lists. Add navigation between these sections. Foundation: build generic 'go to location' functionality usable by search too.","notes":"Implemented canonical special-content classifier (CLAUDE.md, hook, skill consideration, skill send, tool list), shared location navigation helper used by search + special-nav, inline marker badges in renderers, and next/prev special-section navigation (alt+n/alt+p + system commands). Added focused tests and verified with just test (7 files) + just check.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:14:44.671327-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:55:27.690195-07:00","closed_at":"2026-02-21T21:55:27.678889-07:00","close_reason":"Completed","dependencies":[{"issue_id":"cc-dump-iwe","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.255306-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-j8k","title":"Wire protocols.py into hot-reload validation","description":"## Context\n\nprotocols.py (124 lines) defines HotSwappableWidget and CyclingPanel protocols plus a validate_widget_protocol() runtime checker. None of these are currently wired into anything — no runtime calls, no type checker integration.\n\n## Why this matters\n\nThis is a half-built safety net, not dead code. Hot-reload widget swapping is the most fragile operation in the app — if a new widget doesn't implement get_state()/restore_state(), the swap silently breaks with confusing symptoms. The protocol and validator were built specifically to catch this, but never connected.\n\n## What to do\n\nWire validate_widget_protocol() into hot_reload_controller.py at the widget swap boundary. When a new widget instance is created during hot-reload, validate it before swapping. This turns a silent failure mode into an immediate, clear error.\n\n## Files\n\n- src/cc_dump/tui/protocols.py — the protocols and validator\n- src/cc_dump/tui/hot_reload_controller.py — the swap point where validation should run","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-19T19:52:18.208666-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T11:52:21.119282-07:00","closed_at":"2026-02-21T11:52:21.119282-07:00","close_reason":"Integrated runtime protocol validation at hot-reload widget swap boundary and added coverage."}
{"id":"cc-dump-ky0","title":"Refactor app.py into independent logical modules","description":"app.py is 1287 lines containing multiple distinct concerns that should be separated into independent modules for better maintainability and testability.\n\n## Current Structure Issues\n- Monolithic 1287-line file mixing UI, state management, event handling, search, hot-reload, and theme logic\n- Search functionality alone is 400+ lines (lines 875-1282)\n- Hot-reload logic is 150+ lines mixed with app lifecycle\n- Category configuration, action handlers, reactive watchers, and panel management all intermingled\n\n## Proposed Module Structure\n\n1. **tui/category_config.py** - Category visibility configuration\n   - _CATEGORY_CONFIG definition\n   - _VIS_ATTR, _DEFAULT_DETAIL lookups\n   - _SHIFTED_NUMBERS mapping\n   - Category-related constants\n\n2. **tui/app_state.py** - Application state management\n   - AppState dataclass with all state fields\n   - State initialization logic\n   - State serialization for hot-reload preservation\n\n3. **tui/widget_manager.py** - Widget lifecycle and access\n   - Widget query/accessor methods (_get_conv, _get_stats, etc.)\n   - Widget replacement logic (hot-reload widget swapping)\n   - Widget state preservation/restoration\n\n4. **tui/action_handlers.py** - Action handler implementations\n   - All action_* methods extracted as functions\n   - Navigation actions (scroll, go_top, go_bottom, etc.)\n   - Visibility toggle actions\n   - Panel toggle actions\n   - Theme cycling actions\n\n5. **tui/search_controller.py** - Search functionality\n   - All search-related methods (_start_search, _commit_search, etc.)\n   - Search key handling (_handle_search_editing_key, _handle_search_nav_special_keys)\n   - Search navigation (_navigate_next, _navigate_prev, _navigate_to_current)\n   - Search rendering coordination\n\n6. **tui/hot_reload_controller.py** - Hot-reload coordination\n   - _check_hot_reload logic\n   - _replace_all_widgets logic\n   - Module reload orchestration\n\n7. **tui/theme_controller.py** - Theme management\n   - Theme cycling (_cycle_theme, action_next_theme, action_prev_theme)\n   - Markdown theme application (_apply_markdown_theme)\n   - Theme-related reactive watchers\n\n8. **tui/reactive_handlers.py** - Reactive watcher implementations\n   - All watch_* methods\n   - _rerender_if_mounted helper\n   - Filter state management\n\n## Design Principles (from CLAUDE.md)\n\nFollow these architectural laws during refactoring:\n\n- [LAW:one-source-of-truth] Each piece of state lives in exactly one place\n- [LAW:dataflow-not-control-flow] Structure mirrors data flow, variability in values not control paths\n- [LAW:single-enforcer] Cross-cutting concerns enforced at one boundary\n- [LAW:one-way-deps] Clear dependency direction, no cycles\n- [LAW:locality-or-seam] Changes to X don't force edits in unrelated Y\n\n## Implementation Strategy\n\n1. Extract modules in dependency order (bottom-up):\n   - category_config (no deps)\n   - app_state (minimal deps)\n   - theme_controller (depends on app_state)\n   - reactive_handlers (depends on app_state, theme_controller)\n   - widget_manager (depends on app_state)\n   - action_handlers (depends on widget_manager, app_state)\n   - search_controller (depends on widget_manager, app_state)\n   - hot_reload_controller (depends on widget_manager, all others)\n\n2. For each module:\n   - Extract methods as pure functions where possible (pass state explicitly)\n   - Keep CcDumpApp as thin coordinator\n   - Add type hints and docstrings\n   - Update tests to verify no regressions\n\n3. Final CcDumpApp should be:\n   - \u003c 300 lines (compose, on_mount, on_key dispatcher, thin delegates)\n   - Clear separation of concerns\n   - Easy to test each module independently\n\n## Success Criteria\n\n- All tests pass (pytest)\n- app.py \u003c 300 lines\n- Each extracted module \u003c 400 lines\n- Clear module boundaries with documented interfaces\n- No circular dependencies\n- Hot-reload still works (tests/test_hot_reload.py passes)\n- Search functionality preserved (all search tests pass)\n\n## Risks\n\n- Hot-reload state preservation during refactor\n- Search state coupling to app lifecycle\n- Reactive watcher dependencies on app instance\n- Test breakage if module boundaries wrong\n\n## Related Issues\n\n- Supports future work on [cc-dump-6dh] widget factory refactor\n- Enables easier testing of individual concerns\n- Improves hot-reload reliability by reducing coupling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T22:05:20.528486-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-12T02:45:27.773397-07:00","closed_at":"2026-02-12T02:45:27.773397-07:00","close_reason":"Refactored app.py (1592→626 lines) into 6 focused modules: category_config.py, action_handlers.py, search_controller.py, dump_export.py, theme_controller.py, hot_reload_controller.py. Data-driven cleanup applied: visibility toggles via config spec, panel toggles via config dict, navigation via _conv_action. All 611 tests pass."}
{"id":"cc-dump-lx1","title":"Replace api.minimax.com in usage examples","description":"## Context\n\ncli.py:127 and app.py:327 show api.minimax.com as the example URL for forward proxy mode:\n\n```python\nf\"Usage: HTTP_PROXY=http://{args.host}:{actual_port} ANTHROPIC_BASE_URL=http://api.minimax.com claude\"\n```\n\nMiniMax is a real third-party AI company. This is confusing and could mislead users into thinking cc-dump has a relationship with MiniMax.\n\n## What to do\n\nReplace with https://api.anthropic.com (the actual Anthropic API) or a clearly fake URL like https://api.example.com.\n\n## Files\n\n- src/cc_dump/cli.py:127\n- src/cc_dump/tui/app.py:327","status":"closed","priority":3,"issue_type":"bug","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-19T19:54:06.387927-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:11:36.870096-07:00","closed_at":"2026-02-21T13:11:36.870096-07:00","close_reason":"Replaced misleading api.minimax.com usage examples with https://api.anthropic.com in CLI and TUI output."}
{"id":"cc-dump-m59","title":"Audit remaining excluded modules for extraction opportunities","description":"Check remaining excluded modules for pure logic that could be extracted to reloadable siblings: theme_controller.py (56 lines), hot_reload_controller.py (inherently non-extractable), category_config.py (pure data but init-time). Apply the stable wrapper pattern where beneficial.","status":"closed","priority":4,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-17T09:44:30.543829-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-18T17:25:06.511638-07:00","closed_at":"2026-02-18T17:25:06.511638-07:00","close_reason":"Audit complete. All 5 remaining excluded modules are correctly classified. theme_controller.py and hot_reload_controller.py are 100% stateful (every function requires app and mutates state — nothing pure to extract). category_config.py and panel_registry.py are tiny pure-data modules where extraction would add indirection for zero benefit (loaded at init time). No further extraction opportunities exist."}
{"id":"cc-dump-mqp","title":"Content-derived region tags","description":"Scan region text content for identifiable patterns (e.g., 'CLAUDE.md', specific tool names in system-reminder XML) and add to ContentRegion.tags list for richer navigation. Extension point marked with FUTURE comment in populate_content_regions().","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:41:02.039041-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:41:02.039041-07:00","dependencies":[{"issue_id":"cc-dump-mqp","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.773507-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-n1a","title":"Coalesce consecutive same-category blocks","description":"Merge consecutive blocks with the same category into a single display group. Single header, concatenated regions. Implement as a block transform in _BLOCK_TRANSFORMS. Must be generic (not special-cased to assistant/user).","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:40:58.620835-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:40:58.620835-07:00","dependencies":[{"issue_id":"cc-dump-n1a","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.705543-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-nds","title":"Detect new files on first sight in hot-reload watcher","description":"In _get_changed_files, when a new .py file appears, it is silently skipped. The mtime is cached but no change is reported, only detected on SECOND modification. Fix: treat path-not-in-mtimes as a change. Files: hot_reload.py line 179.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-13T03:30:23.128346-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T23:24:43.035158-07:00","closed_at":"2026-02-13T23:24:43.035158-07:00","close_reason":"Fixed: has_changes() and _get_changed_files() now detect new files on first sight"}
{"id":"cc-dump-nen","title":"Update tool economics panel with new columns","description":"Implement new tool economics panel view with requested columns.\n\nRequired columns (grouped by tool):\n- Calls: Number of invocations\n- Input (Cached): e.g. '420k (69%)' showing input tokens with cache hit %\n- Output (Cached): Output tokens with cache hit %\n- Norm Cost: Normalized cost (1 Haiku base token = 1 unit)\n\nPricing table for normalization:\nModel              Base Input    Cache Write(5m)    Cache Hit    Output\nClaude Opus 4.5    $5/MTok      $6.25/MTok        $0.50/MTok  $25/MTok\nClaude Sonnet 4.5  $3/MTok      $3.75/MTok        $0.30/MTok  $15/MTok\nClaude Haiku 4.5   $1/MTok      $1.25/MTok        $0.10/MTok  $5/MTok\n\nBlocked by: schema changes to track per-tool attribution (cc-dump-un8)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-02T20:35:35.456442-07:00","created_by":"bmf","updated_at":"2026-02-03T05:38:49.453815-07:00","closed_at":"2026-02-03T05:38:49.453815-07:00","close_reason":"Implemented tool economics panel with model breakdown toggle (Ctrl+M). Panel shows aggregate view by default, toggles to per-model breakdown. All tests passing.","dependencies":[{"issue_id":"cc-dump-nen","depends_on_id":"cc-dump-un8","type":"blocks","created_at":"2026-02-02T20:35:35.459345-07:00","created_by":"bmf"}]}
{"id":"cc-dump-o7u","title":"Add strip content hashing to detect unchanged renders","description":"Add _strip_hash field to TurnData and compute hash of strip content in re_render(). Skip strip replacement when hash matches (no actual change). Independent optimization that reduces unnecessary updates. Can be implemented anytime but benefits from all other optimizations being in place.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-03T03:20:13.991573-07:00","created_by":"bmf","updated_at":"2026-02-03T03:20:13.991573-07:00","dependencies":[{"issue_id":"cc-dump-o7u","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:20:13.994952-07:00","created_by":"bmf"},{"issue_id":"cc-dump-o7u","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.889337-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ozs","title":"Add background rendering for off-viewport turns","description":"Implement _background_rerender() async method that processes off-viewport turns in background using call_later() with yields to keep UI responsive. Requires viewport logic (cc-dump-16r) and lazy rendering (cc-dump-bbe) to be complete.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-03T03:20:07.502008-07:00","created_by":"bmf","updated_at":"2026-02-03T03:20:07.502008-07:00","dependencies":[{"issue_id":"cc-dump-ozs","depends_on_id":"cc-dump-16r","type":"blocked-by","created_at":"2026-02-03T03:20:07.504863-07:00","created_by":"bmf"},{"issue_id":"cc-dump-ozs","depends_on_id":"cc-dump-bbe","type":"blocked-by","created_at":"2026-02-03T03:20:07.505741-07:00","created_by":"bmf"},{"issue_id":"cc-dump-ozs","depends_on_id":"cc-dump-ghm","type":"blocks","created_at":"2026-02-03T03:20:07.506307-07:00","created_by":"bmf"},{"issue_id":"cc-dump-ozs","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.940529-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-p2s","title":"Expand/collapse UX redesign","description":"Rethink expand/collapse mechanics to align with the new all-segment region model. Consider level-aware region defaults, per-kind default expand states, and cleaner interaction between block-level and region-level toggling.","status":"open","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-13T17:41:07.545227-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T17:41:07.545227-07:00","dependencies":[{"issue_id":"cc-dump-p2s","depends_on_id":"cc-dump-a16","type":"parent-child","created_at":"2026-02-13T17:41:45.969505-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-pb4","title":"Auto-save visibility state on app exit","description":"Current visibility filter state (_is_visible, _is_full, _is_expanded reactive dicts) is lost on app exit. Only manually-saved filtersets (Ctrl+F1-F8) persist. Auto-save the current filter state to settings.json under a 'current' key on on_unmount(). Restore on startup if present. settings.py already has atomic-write support. Files: app.py (on_unmount), settings.py.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-13T03:29:27.683649-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-14T10:28:37.857981-07:00","closed_at":"2026-02-14T10:28:37.857981-07:00","close_reason":"Superseded by cc-dump-7a0 (session resume). Per-session state persistence is the right scope. Global auto-save has last-write-wins problem with concurrent instances. Existing filterset system (Ctrl+F1-F8) covers explicit persistence."}
{"id":"cc-dump-pmj","title":"Document stable wrapper extraction pattern","description":"Add 'How to Extract Pure Logic from a Stable Module' section to HOT_RELOAD_ARCHITECTURE.md. Document the 3 examples (dump_export→dump_formatting, action_handlers→action_config, search_controller→search). Include checklist for future extractions.","status":"closed","priority":4,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-17T09:44:23.449241-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-17T09:44:36.686208-07:00","closed_at":"2026-02-17T09:44:36.686208-07:00","close_reason":"Added 'How to Extract Pure Logic from a Stable Module' section to HOT_RELOAD_ARCHITECTURE.md"}
{"id":"cc-dump-q4k","title":"Add request-ID tagging to support concurrent streaming","description":"With ThreadingHTTPServer, concurrent /v1/messages requests can interleave events in the queue. Downstream consumers (store, HAR recorder, TUI) currently assume sequential request-response pairs. Add req_id to all event tuples, key consumer state by request ID, and support concurrent streaming turns in ConversationView.","notes":"Completed request-id keyed consumer state in HARRecordingSubscriber. Replaced singleton pending exchange with request-scoped pending map keyed by event.request_id (legacy fallback key for empty request IDs). Added regression test for interleaved concurrent requests to verify request/response pairing remains correct. Verified with targeted tests and just check.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-12T15:34:22.95702-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:59:28.098262-07:00","closed_at":"2026-02-21T21:59:28.098262-07:00","close_reason":"Completed","labels":["concurrency","proxy"],"dependencies":[{"issue_id":"cc-dump-q4k","depends_on_id":"cc-dump-c9v","type":"blocks","created_at":"2026-02-20T20:50:49.439896-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-qcd","title":"Tag user config and allow navigation between it","notes":"Covered by commit 76eb35e: added canonical CLAUDE.md marker classification plus next/prev special-section navigation, including marker collection over ConfigContentBlock and jump actions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T05:18:42.746406-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:55:48.492062-07:00","closed_at":"2026-02-21T21:55:48.483286-07:00","close_reason":"Completed via cc-dump-iwe commit 76eb35e","dependencies":[{"issue_id":"cc-dump-qcd","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:12.978898-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-s3v","title":"Sprint 1: Token counting infrastructure","description":"Implement token counting infrastructure for per-tool attribution using tiktoken (local).\n\nDeliverables:\n- Token counter module using tiktoken (local, no API calls)\n- Schema migration (add input_tokens, result_tokens columns to tool_invocations)\n- Wire into store.py to populate on turn commit\n- Add tiktoken dependency\n\nBenefits:\n- No API rate limits\n- Fast (~1ms per text)\n- No network latency\n- ~95% accuracy vs Claude tokenizer (sufficient for economics)\n\nSee: .agent_planning/tool-attribution/SPRINT-20260203-120000-token-counting-infra-PLAN.md\n\nStatus: HIGH confidence (3 items), READY FOR IMPLEMENTATION","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-03T03:20:50.421734-07:00","created_by":"bmf","updated_at":"2026-02-03T04:54:26.212468-07:00","closed_at":"2026-02-03T04:54:26.212474-07:00","dependencies":[{"issue_id":"cc-dump-s3v","depends_on_id":"cc-dump-un8","type":"blocks","created_at":"2026-02-03T03:20:50.423196-07:00","created_by":"bmf"}]}
{"id":"cc-dump-sjb","title":"Preserve search state across hot-reload","description":"Active search is unconditionally cancelled on reload. Search state is just a query string and match indices which could be preserved cheaply. Save query and current match index in widget state, re-execute search after reload. Files: hot_reload_controller.py, search_controller.py, widget_factory.py.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-13T03:30:36.762908-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-13T23:24:46.978481-07:00","closed_at":"2026-02-13T23:24:46.978481-07:00","close_reason":"Search state (query/modes/cursor_pos/phase) now preserved and re-executed across hot-reload"}
{"id":"cc-dump-t5w","title":"Slim down ToolInvocation — remove dead estimation fields","description":"## Context\n\nToolInvocation (analysis.py:178) was built in the pre-tiktoken era as a \"correlation result + estimation data\" bundle. It carries:\n- Live fields: tool_use_id, name, input_str, result_str, is_error (used by analytics_store for tiktoken counting)\n- Dead fields: input_bytes, result_bytes, input_tokens_est, result_tokens_est (estimation-era holdovers)\n\ncorrelate_tools() (analysis.py:219) is still actively called by:\n- analytics_store.py:138 — gets tool pairs, then runs tiktoken on raw strings\n- tool_result_breakdown() (analysis.py:301) → formatting.py:991 — for budget display\n\nThe correlation logic is live. The estimation fields are vestigial — analytics_store immediately discards them and recomputes with tiktoken.\n\nThere's also a parallel type: ToolInvocationRecord (analytics_store.py:34) with real token fields. The analytics store converts ToolInvocation → ToolInvocationRecord at analytics_store.py:140-153, creating a confusing intermediate step.\n\n## Why this matters\n\nTwo types (ToolInvocation and ToolInvocationRecord) for the same concept with overlapping but different fields. The conversion step is a maintenance burden and a source of confusion about which token numbers to trust (estimated vs real).\n\n## Options\n\n1. Strip dead fields from ToolInvocation (input_bytes, result_bytes, input_tokens_est, result_tokens_est)\n2. Or: have correlate_tools() return ToolInvocationRecord directly, eliminating ToolInvocation entirely\n3. Or: inline the correlation into analytics_store, since it's the only real consumer\n\nOption 1 is safest. Option 2 is cleanest but couples analysis.py to analytics_store types.\n\n## Files\n\n- src/cc_dump/analysis.py:178-189 — ToolInvocation definition\n- src/cc_dump/analysis.py:219-281 — correlate_tools()\n- src/cc_dump/analytics_store.py:34-41 — ToolInvocationRecord\n- src/cc_dump/analytics_store.py:138-153 — the conversion point","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-19T19:53:05.003166-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:03:49.18067-07:00","closed_at":"2026-02-21T13:03:49.18067-07:00","close_reason":"Removed dead ToolInvocation estimation/byte fields and derived aggregate estimates from raw correlated strings; updated tests."}
{"id":"cc-dump-t84","title":"Add offline subagent parent-log enrichment pipeline","description":"Build an offline ingest stage that correlates runtime request/session streams with .claude/projects subagent JSONL artifacts (parent/session relationships) for historical analysis only. Must remain optional and never be a runtime dependency for live/replay rendering.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-21T01:52:33.315616-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T12:54:42.004252-07:00","closed_at":"2026-02-21T12:54:42.004252-07:00","close_reason":"Implemented offline subagent enrichment pipeline from HAR runtime sessions to .claude/projects artifacts with parent/session correlation, tests, and operator runbook."}
{"id":"cc-dump-t8j","title":"Decompose user text content into structured config/hook child blocks","description":"Add deterministic extraction pass for user message TextContent into ConfigContentBlock and HookOutputBlock children (including \u003csystem-reminder\u003e and \u003cuser-prompt-submit-hook\u003e payloads), while preserving original order and category/filter behavior. Rendering/search/collapse must operate on extracted children without duplicating source content.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-21T04:56:59.637727-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T12:59:11.827834-07:00","closed_at":"2026-02-21T12:59:11.827834-07:00","close_reason":"Implemented deterministic user text decomposition into HookOutputBlock/ConfigContentBlock with ordered extraction, no-duplication behavior, and coverage for rendering/search/collapse paths."}
{"id":"cc-dump-t9f","title":"Clarify economics panel column names","description":"Current columns are unclear:\n- 'Input↑' - OK, input tokens\n- 'Results↓' - Unclear. Is this output tokens? Tool result tokens?\n- 'Total' - Input + Output? Input + Results? What exactly?\n\nNeed clearer column headers that make it obvious what each number represents.\n\nConsider: Calls | Input | Output | Total\nor: Calls | Tool Input | Tool Results | Combined","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-02T20:36:00.891024-07:00","created_by":"bmf","updated_at":"2026-02-03T05:39:02.761044-07:00","closed_at":"2026-02-03T05:39:02.761044-07:00","close_reason":"Clarified column names. Economics panel now shows: Tool | Calls | Input (Cached) | Output | Norm Cost (aggregate view) or Tool | Model | Calls | Input (Cached) | Output | Norm Cost (breakdown view)."}
{"id":"cc-dump-tcr","title":"SSE rewrite epic: immutable complete-response pipeline","description":"Re-architect response-side pipeline so SSE transport details are assembled at the proxy boundary, domain data is immutable, view state is cleanly separated, and live UX remains ultra-low-latency.","status":"closed","priority":1,"issue_type":"epic","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:47:19.757756-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T11:51:07.854267-07:00","closed_at":"2026-02-21T11:51:07.854267-07:00","close_reason":"All SSE rewrite dependency tickets are complete and merged; epic goals satisfied.","dependencies":[{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-xmg","type":"blocks","created_at":"2026-02-20T20:54:18.178923-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-c9v","type":"blocks","created_at":"2026-02-20T20:54:28.783306-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-yj3","type":"blocks","created_at":"2026-02-20T20:54:39.051868-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-6pv","type":"blocks","created_at":"2026-02-20T20:54:49.319197-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-7sh","type":"blocks","created_at":"2026-02-20T20:54:59.602663-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-d6u","type":"blocks","created_at":"2026-02-20T20:55:09.867903-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-0xo","type":"blocks","created_at":"2026-02-20T20:55:20.124554-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-tcr","depends_on_id":"cc-dump-9z0","type":"blocks","created_at":"2026-02-20T20:55:30.385147-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-ub9","title":"Improve search performance","description":"Search is currently slow and needs performance optimization.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T17:14:45.702313-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T21:42:55.126635-07:00","closed_at":"2026-02-21T21:42:55.126635-07:00","close_reason":"Added state-owned searchable-text cache and cache-aware match scanning to reduce repeated extraction work across incremental and repeated searches","dependencies":[{"issue_id":"cc-dump-ub9","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.202594-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-un8","title":"Add per-tool token attribution to database schema","description":"Track actual token counts, cache data, and model per tool invocation.\n\nCurrent state:\n- tool_invocations table only has: tool_name, input_bytes, result_bytes\n- No actual tokens, cache data, or model information\n\nRequired changes:\n- Link tool invocations to turn_id (to get model)\n- Store actual input_tokens, output_tokens per tool invocation\n- Store cache_read_tokens, cache_creation_tokens per tool invocation\n- Update event handlers to populate this data from streaming events\n\nThis enables the tool economics panel to show:\nCalls | Input (Cached) | Output (Cached) | Norm Cost\ngrouped by tool name.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-02T20:35:23.459888-07:00","created_by":"bmf","updated_at":"2026-02-03T04:54:36.226296-07:00","closed_at":"2026-02-03T04:54:36.226299-07:00"}
{"id":"cc-dump-ur4","title":"Add keyboard shortcut for cycling next/previous theme","description":"Add keybindings to cycle through available themes (next/prev). Should not appear in the footer bar.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-10T14:41:08.6721-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-11T08:53:16.825652-07:00","closed_at":"2026-02-11T08:53:16.825652-07:00","close_reason":"Closed"}
{"id":"cc-dump-uui","title":"Remove ContentBlockType enum (never adopted)","description":"## Context\n\nContentBlockType enum (event_types.py:35-41) defines TEXT, TOOL_USE, TOOL_RESULT as an Enum. It was built to replace string comparisons (btype == \"text\", btype == \"tool_use\") with type-safe enum checks.\n\nThe formatting pipeline never adopted it — formatting.py and analysis.py use raw string comparisons throughout, and those work fine (they're grep-friendly and the strings come directly from the API).\n\n## Why this matters\n\n7 lines, but it's a broken promise of type safety sitting next to StopReason and MessageRole enums that ARE used. Someone reading event_types.py would reasonably assume all three enums are live.\n\n## What to do\n\nDelete ContentBlockType from event_types.py. If type safety for content block types becomes important later, a Literal[\"text\", \"tool_use\", \"tool_result\"] type alias gives the same mypy safety without conversion overhead.\n\n## Files\n\n- src/cc_dump/event_types.py:35-41","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":5,"created_at":"2026-02-19T19:53:31.648895-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:07:12.038017-07:00","closed_at":"2026-02-21T13:07:12.038017-07:00","close_reason":"Removed unused ContentBlockType enum and stale test import."}
{"id":"cc-dump-v60","title":"Auto-save visibility state on app exit","description":"Current visibility filter state is lost on app exit. Auto-save to settings.json on exit, restore on startup.","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":60,"created_at":"2026-02-13T03:30:15.919742-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-14T10:28:40.16072-07:00","closed_at":"2026-02-14T10:28:40.16072-07:00","close_reason":"Duplicate of cc-dump-pb4, superseded by cc-dump-7a0 (session resume)."}
{"id":"cc-dump-wma","title":"Remove aggregate_tools(), ToolAggregates, and ModelEconomics from analysis.py","description":"## Context\n\nThree items in analysis.py that were replaced by analytics_store.get_tool_economics():\n\n1. aggregate_tools() (line 284) — grouped ToolInvocations by name, summed estimated tokens. Was the query layer before the analytics store did real-token aggregation. No production caller.\n\n2. ToolAggregates (line 192) — data type only used by aggregate_tools(). Dead along with it.\n\n3. ModelEconomics (line 474) — clean data container for per-model economics with computed properties (cache_hit_pct, norm_cost). Never adopted by any production code. Was built speculatively as infrastructure for a per-model cost breakdown feature that was never connected.\n\nAll three are tested in tests/test_analysis.py but never called from src/.\n\n## Why this matters\n\n~120 lines of dead code + corresponding tests. The analytics store's aggregation is strictly better (real tokens via tiktoken vs len/4 estimates). Keeping these creates confusion about which aggregation path is authoritative.\n\n## Note on ModelEconomics\n\nModelEconomics has a well-designed norm_cost() method with correct per-model pricing and cache tier differentiation. If per-model cost breakdown is ever needed in the economics panel, the pattern is worth remembering — but it can be rebuilt from ToolEconomicsRow (which already has norm_cost) when needed.\n\n## What to do\n\n1. Delete aggregate_tools(), ToolAggregates, ModelEconomics from analysis.py\n2. Delete their tests from tests/test_analysis.py (lines ~383-429 for aggregate, ~541-581 for ModelEconomics)\n3. Remove any imports of these names\n\n## Files\n\n- src/cc_dump/analysis.py:192-298, 474-505 — dead definitions\n- tests/test_analysis.py — dead tests","status":"closed","priority":3,"issue_type":"chore","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":15,"created_at":"2026-02-19T19:53:20.810867-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-21T13:06:14.420583-07:00","closed_at":"2026-02-21T13:06:14.420583-07:00","close_reason":"Removed dead aggregate_tools/ToolAggregates/ModelEconomics path and tests; analytics store remains canonical."}
{"id":"cc-dump-wyv","title":"Preserve scroll position across hot-reload","description":"ConversationView.get_state() does not include _scroll_anchor or scroll_offset. When follow_mode is False and a reload fires, the user's scroll position is silently lost. Add scroll anchor/offset to get_state() and restore it in restore_state(). Files: widget_factory.py (get_state/restore_state around line 1070).","status":"closed","priority":2,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","estimated_minutes":30,"created_at":"2026-02-13T03:29:20.335431-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-17T09:44:09.099144-07:00","closed_at":"2026-02-17T09:44:09.099144-07:00","close_reason":"Closed"}
{"id":"cc-dump-xmg","title":"Add response streaming latency + memory benchmark harness","description":"Instrument chunk-\u003escreen latency, queue delay, and memory growth for long streams. Add repeatable benchmark command + CI-friendly output so rewrite phases are validated against measured targets.","status":"closed","priority":1,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:47:42.145126-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-20T21:20:17.580765-07:00","closed_at":"2026-02-20T21:20:17.580765-07:00","close_reason":"Closed"}
{"id":"cc-dump-xyt","title":"Track token usage vs individual capacity","description":"Show token usage in relation to user's individual capacity remaining. Difficult because: (1) this is only one session, (2) doesn't account for tokens used in other concurrent sessions, (3) API doesn't expose per-user capacity data. May need creative workarounds or partial solutions.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-09T17:01:51.485345-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-09T17:01:51.485345-07:00","dependencies":[{"issue_id":"cc-dump-xyt","depends_on_id":"cc-dump-ay4","type":"blocks","created_at":"2026-02-10T05:49:13.784767-07:00","created_by":"Brandon Fryslie"},{"issue_id":"cc-dump-xyt","depends_on_id":"cc-dump-8bn","type":"blocks","created_at":"2026-02-10T05:53:46.392856-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-y0n","title":"Extract action_handlers constants to action_config.py","description":"Extract 5 pure data constants from action_handlers.py to new reloadable tui/action_config.py. Constants: FILTERSET_SLOTS, FILTERSET_NAMES, VIS_CYCLE, VIS_TOGGLE_SPECS, PANEL_TOGGLE_CONFIG. Add to _RELOAD_ORDER. Update action_handlers.py to use module-style import.","status":"closed","priority":3,"issue_type":"task","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-17T09:44:17.439474-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-17T09:44:36.610873-07:00","closed_at":"2026-02-17T09:44:36.610873-07:00","close_reason":"Extracted 5 constants to tui/action_config.py, added to _RELOAD_ORDER, updated action_handlers.py"}
{"id":"cc-dump-yj3","title":"Build proxy-side SSE ResponseAssembler (complete response + live deltas)","description":"At proxy boundary, assemble SSE fragments into immutable complete-response records while still emitting minimal live projection deltas for realtime UX. Transport details stop at assembler boundary.","status":"closed","priority":1,"issue_type":"feature","owner":"530235+brandon-fryslie@users.noreply.github.com","created_at":"2026-02-20T20:47:42.249056-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-20T21:30:46.118404-07:00","closed_at":"2026-02-20T21:30:46.118404-07:00","close_reason":"Implemented in ff55efb: added proxy-side ResponseAssembler, ResponseCompleteEvent, proxy wiring, and tests.","dependencies":[{"issue_id":"cc-dump-yj3","depends_on_id":"cc-dump-c9v","type":"blocks","created_at":"2026-02-20T20:49:31.646566-07:00","created_by":"Brandon Fryslie"}]}
{"id":"cc-dump-zni","title":"Default to port 0 (OS-assigned port) instead of fixed port","description":"Change default port behavior to use port 0, allowing the OS to assign an available port automatically.\n\n## Current Behavior\ncc-dump uses a fixed default port (likely 3344 or similar), which can cause conflicts when running multiple instances.\n\n## Proposed Behavior\n- Default to port 0 when no --port argument is provided\n- OS automatically assigns an available port\n- Port number is displayed in the TUI so user knows where to connect\n- User can still specify explicit port with --port argument if needed\n\n## Benefits\n- No port conflicts when running multiple cc-dump instances\n- Simpler local development and testing\n- Follows common practice for development tools\n\n## Success Criteria\n- Default port is 0 (no --port argument)\n- OS-assigned port is displayed clearly in UI\n- --port argument still works to specify explicit port\n- No regression in existing functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-10T13:36:27.885807-07:00","created_by":"Brandon Fryslie","updated_at":"2026-02-10T17:07:48.20165-07:00","closed_at":"2026-02-10T17:07:48.20165-07:00","close_reason":"Implemented OS-assigned port (port 0) as default. Tests passing."}
