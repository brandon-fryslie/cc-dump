This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.
The content has been processed where content has been compressed (code blocks are separated by ⋮---- delimiter).

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: src/textual/widgets/_tree.py
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Content has been compressed - code blocks are separated by ⋮---- delimiter
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
src/
  textual/
    widgets/
      _tree.py
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/textual/widgets/_tree.py">
"""Provides a tree widget."""
⋮----
NodeID = NewType("NodeID", int)
"""The type of an ID applied to a [TreeNode][textual.widgets._tree.TreeNode]."""
⋮----
TreeDataType = TypeVar("TreeDataType")
"""The type of the data for a given instance of a [Tree][textual.widgets.Tree]."""
⋮----
EventTreeDataType = TypeVar("EventTreeDataType")
"""The type of the data for a given instance of a [Tree][textual.widgets.Tree].

Similar to [TreeDataType][textual.widgets._tree.TreeDataType] but used for
``Tree`` messages.
"""
⋮----
LineCacheKey: TypeAlias = "tuple[int | tuple, ...]"
⋮----
TOGGLE_STYLE = Style.from_meta({"toggle": True})
⋮----
class RemoveRootError(Exception)
⋮----
"""Exception raised when trying to remove the root of a [`TreeNode`][textual.widgets.tree.TreeNode]."""
⋮----
class UnknownNodeID(Exception)
⋮----
"""Exception raised when referring to an unknown [`TreeNode`][textual.widgets.tree.TreeNode] ID."""
⋮----
class AddNodeError(Exception)
⋮----
"""Exception raised when there is an error with a request to add a node."""
⋮----
@dataclass
class _TreeLine(Generic[TreeDataType])
⋮----
path: list[TreeNode[TreeDataType]]
last: bool
⋮----
@property
    def node(self) -> TreeNode[TreeDataType]
⋮----
"""The node associated with this line."""
⋮----
def _get_guide_width(self, guide_depth: int, show_root: bool) -> int
⋮----
"""Get the cell width of the line as rendered.

        Args:
            guide_depth: The guide depth (cells in the indentation).

        Returns:
            Width in cells.
        """
⋮----
width = (max(0, len(self.path) - 1)) * guide_depth
⋮----
width = 0
⋮----
class TreeNodes(ImmutableSequenceView["TreeNode[TreeDataType]"])
⋮----
"""An immutable collection of `TreeNode`."""
⋮----
@rich.repr.auto
class TreeNode(Generic[TreeDataType])
⋮----
"""An object that represents a "node" in a tree control."""
⋮----
"""Initialise the node.

        Args:
            tree: The tree that the node is being attached to.
            parent: The parent node that this node is being attached to.
            id: The ID of the node.
            label: The label for the node.
            data: Optional data to associate with the node.
            expanded: Should the node be attached in an expanded state?
            allow_expand: Should the node allow being expanded by the user?
        """
⋮----
"""Optional data associated with the tree node."""
⋮----
def __rich_repr__(self) -> rich.repr.Result
⋮----
def _reset(self) -> None
⋮----
@property
    def tree(self) -> Tree[TreeDataType]
⋮----
"""The tree that this node is attached to."""
⋮----
@property
    def children(self) -> TreeNodes[TreeDataType]
⋮----
"""The child nodes of a TreeNode."""
⋮----
@property
    def siblings(self) -> TreeNodes[TreeDataType]
⋮----
"""The siblings of this node (includes self)."""
⋮----
@property
    def line(self) -> int
⋮----
"""The line number for this node, or -1 if it is not displayed."""
⋮----
@property
    def _hover(self) -> bool
⋮----
"""Check if the mouse is over the node."""
⋮----
@_hover.setter
    def _hover(self, hover: bool) -> None
⋮----
@property
    def _selected(self) -> bool
⋮----
"""Check if the node is selected."""
⋮----
@_selected.setter
    def _selected(self, selected: bool) -> None
⋮----
@property
    def id(self) -> NodeID
⋮----
"""The ID of the  node."""
⋮----
@property
    def parent(self) -> TreeNode[TreeDataType] | None
⋮----
"""The parent of the node."""
⋮----
@property
    def next_sibling(self) -> TreeNode[TreeDataType] | None
⋮----
"""The next sibling below the node."""
siblings = self.siblings
index = siblings.index(self) + 1
⋮----
@property
    def previous_sibling(self) -> TreeNode[TreeDataType] | None
⋮----
"""The previous sibling below the node."""
⋮----
index = siblings.index(self) - 1
⋮----
@property
    def is_expanded(self) -> bool
⋮----
"""Is the node expanded?"""
⋮----
@property
    def is_collapsed(self) -> bool
⋮----
"""Is the node collapsed?"""
⋮----
@property
    def is_last(self) -> bool
⋮----
"""Is this the last child node of its parent?"""
⋮----
@property
    def is_root(self) -> bool
⋮----
"""Is this node the root of the tree?"""
⋮----
@property
    def allow_expand(self) -> bool
⋮----
"""Is this node allowed to expand?"""
⋮----
@allow_expand.setter
    def allow_expand(self, allow_expand: bool) -> None
⋮----
def _expand(self, expand_all: bool) -> None
⋮----
"""Mark the node as expanded (its children are shown).

        Args:
            expand_all: If `True` expand all offspring at all depths.
        """
⋮----
def expand(self) -> Self
⋮----
"""Expand the node (show its children).

        Returns:
            The `TreeNode` instance.
        """
⋮----
def expand_all(self) -> Self
⋮----
"""Expand the node (show its children) and all those below it.

        Returns:
            The `TreeNode` instance.
        """
⋮----
def _collapse(self, collapse_all: bool) -> None
⋮----
"""Mark the node as collapsed (its children are hidden).

        Args:
            collapse_all: If `True` collapse all offspring at all depths.
        """
⋮----
def collapse(self) -> Self
⋮----
"""Collapse the node (hide its children).

        Returns:
            The `TreeNode` instance.
        """
⋮----
def collapse_all(self) -> Self
⋮----
"""Collapse the node (hide its children) and all those below it.

        Returns:
            The `TreeNode` instance.
        """
⋮----
def toggle(self) -> Self
⋮----
"""Toggle the node's expanded state.

        Returns:
            The `TreeNode` instance.
        """
⋮----
def toggle_all(self) -> Self
⋮----
"""Toggle the node's expanded state and make all those below it match.

        Returns:
            The `TreeNode` instance.
        """
⋮----
@property
    def label(self) -> TextType
⋮----
"""The label for the node."""
⋮----
@label.setter
    def label(self, new_label: TextType) -> None
⋮----
def set_label(self, label: TextType) -> None
⋮----
"""Set a new label for the node.

        Args:
            label: A ``str`` or ``Text`` object with the new label.
        """
⋮----
text_label = self._tree.process_label(label)
⋮----
"""Add a node to the sub-tree.

        Args:
            label: The new node's label.
            data: Data associated with the new node.
            before: Optional index or `TreeNode` to add the node before.
            after: Optional index or `TreeNode` to add the node after.
            expand: Node should be expanded.
            allow_expand: Allow user to expand the node via keyboard or mouse.

        Returns:
            A new Tree node

        Raises:
            AddNodeError: If there is a problem with the addition request.

        Note:
            Only one of `before` or `after` can be provided. If both are
            provided a `AddNodeError` will be raised.
        """
⋮----
insert_index: int = len(self.children)
⋮----
insert_index = before
⋮----
insert_index = self.children.index(before)
⋮----
insert_index = after + 1
⋮----
insert_index = self.children.index(after) + 1
⋮----
node = self._tree._add_node(self, text_label, data)
⋮----
"""Add a 'leaf' node (a node that can not expand).

        Args:
            label: Label for the node.
            data: Optional data.
            before: Optional index or `TreeNode` to add the node before.
            after: Optional index or `TreeNode` to add the node after.

        Returns:
            New node.

        Raises:
            AddNodeError: If there is a problem with the addition request.

        Note:
            Only one of `before` or `after` can be provided. If both are
            provided a `AddNodeError` will be raised.
        """
node = self.add(
⋮----
def _remove_children(self) -> None
⋮----
"""Remove child nodes of this node.

        Note:
            This is the internal support method for `remove_children`. Call
            `remove_children` to ensure the tree gets refreshed.
        """
⋮----
def _remove(self) -> None
⋮----
"""Remove the current node and all its children.

        Note:
            This is the internal support method for `remove`. Call `remove`
            to ensure the tree gets refreshed.
        """
⋮----
def remove(self) -> None
⋮----
"""Remove this node from the tree.

        Raises:
            RemoveRootError: If there is an attempt to remove the root.
        """
⋮----
def remove_children(self) -> None
⋮----
"""Remove any child nodes of this node."""
⋮----
def refresh(self) -> None
⋮----
"""Initiate a refresh (repaint) of this node."""
⋮----
class Tree(Generic[TreeDataType], ScrollView, can_focus=True)
⋮----
"""A widget for displaying and navigating data in a tree."""
⋮----
ICON_NODE = "▶ "
"""Unicode 'icon' to use for an expandable node."""
ICON_NODE_EXPANDED = "▼ "
"""Unicode 'icon' to use for an expanded node."""
⋮----
BINDINGS: ClassVar[list[BindingType]] = [
"""
    | Key(s) | Description |
    | :- | :- |
    | enter | Select the current item. |
    | space | Toggle the expand/collapsed state of the current item. |
    | up | Move the cursor up. |
    | down | Move the cursor down. |
    """
⋮----
ALLOW_SELECT = False
⋮----
COMPONENT_CLASSES: ClassVar[set[str]] = {
"""
    | Class | Description |
    | :- | :- |
    | `tree--cursor` | Targets the cursor. |
    | `tree--guides` | Targets the indentation guides. |
    | `tree--guides-hover` | Targets the indentation guides under the cursor. |
    | `tree--guides-selected` | Targets the indentation guides that are selected. |
    | `tree--highlight` | Targets the highlighted items. |
    | `tree--highlight-line` | Targets the lines under the cursor. |
    | `tree--label` | Targets the (text) labels of the items. |
    """
⋮----
DEFAULT_CSS = """
⋮----
show_root = reactive(True)
"""Show the root of the tree."""
hover_line = var(-1)
"""The line number under the mouse pointer, or -1 if not under the mouse pointer."""
cursor_line = var(-1, always_update=True)
"""The line with the cursor, or -1 if no cursor."""
show_guides = reactive(True)
"""Enable display of tree guide lines."""
guide_depth = reactive(4, init=False)
"""The indent depth of tree nodes."""
auto_expand = var(True)
"""Auto expand tree nodes when they are selected."""
center_scroll = var(False)
"""Keep selected node in the center of the control, where possible."""
⋮----
LINES: dict[str, tuple[str, str, str, str]] = {
⋮----
class NodeCollapsed(Generic[EventTreeDataType], Message)
⋮----
"""Event sent when a node is collapsed.

        Can be handled using `on_tree_node_collapsed` in a subclass of `Tree` or in a
        parent node in the DOM.
        """
⋮----
def __init__(self, node: TreeNode[EventTreeDataType]) -> None
⋮----
"""The node that was collapsed."""
⋮----
@property
        def control(self) -> Tree[EventTreeDataType]
⋮----
"""The tree that sent the message."""
⋮----
class NodeExpanded(Generic[EventTreeDataType], Message)
⋮----
"""Event sent when a node is expanded.

        Can be handled using `on_tree_node_expanded` in a subclass of `Tree` or in a
        parent node in the DOM.
        """
⋮----
"""The node that was expanded."""
⋮----
class NodeHighlighted(Generic[EventTreeDataType], Message)
⋮----
"""Event sent when a node is highlighted.

        Can be handled using `on_tree_node_highlighted` in a subclass of `Tree` or in a
        parent node in the DOM.
        """
⋮----
"""The node that was highlighted."""
⋮----
class NodeSelected(Generic[EventTreeDataType], Message)
⋮----
"""Event sent when a node is selected.

        Can be handled using `on_tree_node_selected` in a subclass of `Tree` or in a
        parent node in the DOM.
        """
⋮----
"""The node that was selected."""
⋮----
"""Initialise a Tree.

        Args:
            label: The label of the root node of the tree.
            data: The optional data to associate with the root node of the tree.
            name: The name of the Tree.
            id: The ID of the tree in the DOM.
            classes: The CSS classes of the tree.
            disabled: Whether the tree is disabled or not.
        """
⋮----
text_label = self.process_label(label)
⋮----
"""The root node of the tree."""
⋮----
def add_json(self, json_data: object, node: TreeNode | None = None) -> None
⋮----
"""Adds JSON data to a node.

        Args:
            json_data: An object decoded from JSON.
            node: Node to add data to.

        """
⋮----
node = self.root
⋮----
highlighter = ReprHighlighter()
⋮----
def add_node(name: str, node: TreeNode, data: object) -> None
⋮----
"""Adds a node to the tree.

            Args:
                name: Name of the node.
                node: Parent node.
                data: Data associated with the node.
            """
⋮----
new_node = node.add("")
⋮----
label = Text.assemble(
⋮----
label = Text(repr(data))
⋮----
@property
    def cursor_node(self) -> TreeNode[TreeDataType] | None
⋮----
"""The currently selected node, or ``None`` if no selection."""
⋮----
@property
    def last_line(self) -> int
⋮----
"""The index of the last line."""
⋮----
def process_label(self, label: TextType) -> Text
⋮----
"""Process a `str` or `Text` value into a label.

        May be overridden in a subclass to change how labels are rendered.

        Args:
            label: Label.

        Returns:
            A Rich Text object.
        """
⋮----
text_label = Text.from_markup(label)
⋮----
text_label = label
first_line = text_label.split()[0]
⋮----
node = TreeNode(self, parent, self._new_id(), label, data, expanded=expand)
⋮----
"""Render a label for the given node. Override this to modify how labels are rendered.

        Args:
            node: A tree node.
            base_style: The base style of the widget.
            style: The additional style for the label.

        Returns:
            A Rich Text object containing the label.
        """
node_label = node._label.copy()
⋮----
prefix = (
⋮----
prefix = ("", base_style)
⋮----
text = Text.assemble(prefix, node_label)
⋮----
def get_label_width(self, node: TreeNode[TreeDataType]) -> int
⋮----
"""Get the width of the nodes label.

        The default behavior is to call `render_label` and return the cell length. This method may be
        overridden in a sub-class if it can be done more efficiently.

        Args:
            node: A node.

        Returns:
            Width in cells.
        """
label = self.render_label(node, NULL_STYLE, NULL_STYLE)
⋮----
def _clear_line_cache(self) -> None
⋮----
"""Clear line cache."""
⋮----
def clear(self) -> Self
⋮----
"""Clear all nodes under root.

        Returns:
            The `Tree` instance.
        """
⋮----
root_label = self.root._label
root_data = self.root.data
root_expanded = self.root.is_expanded
⋮----
def reset(self, label: TextType, data: TreeDataType | None = None) -> Self
⋮----
"""Clear the tree and reset the root node.

        Args:
            label: The label for the root node.
            data: Optional data for the root node.

        Returns:
            The `Tree` instance.
        """
⋮----
"""Move the cursor to the given node, or reset cursor.

        Args:
            node: A tree node, or None to reset cursor.
            animate: Enable animation
        """
previous_cursor_line = self.cursor_line
⋮----
def move_cursor_to_line(self, line: int, animate=False) -> None
⋮----
"""Move the cursor to the given line.

        Args:
            line: The line number (negative indexes are offsets from the last line).
            animate: Enable scrolling animation.

        Raises:
            IndexError: If the line doesn't exist.
        """
⋮----
node = self._tree_lines[line].node
⋮----
def select_node(self, node: TreeNode[TreeDataType] | None) -> None
⋮----
"""Move the cursor to the given node and select it, or reset cursor.

        Args:
            node: A tree node to move the cursor to and select, or None to reset cursor.
        """
⋮----
def unselect(self) -> None
⋮----
"""Hide and reset the cursor."""
⋮----
@on(NodeSelected)
    def _expand_node_on_select(self, event: NodeSelected[TreeDataType]) -> None
⋮----
"""When the node is selected, expand the node if `auto_expand` is True."""
node = event.node
⋮----
def get_node_at_line(self, line_no: int) -> TreeNode[TreeDataType] | None
⋮----
"""Get the node for a given line.

        Args:
            line_no: A line number.

        Returns:
            A tree node, or ``None`` if there is no node at that line.
        """
⋮----
line = self._tree_lines[line_no]
⋮----
def get_node_by_id(self, node_id: NodeID) -> TreeNode[TreeDataType]
⋮----
"""Get a tree node by its ID.

        Args:
            node_id: The ID of the node to get.

        Returns:
            The node associated with that ID.

        Raises:
            UnknownNodeID: Raised if the `TreeNode` ID is unknown.
        """
⋮----
def validate_cursor_line(self, value: int) -> int
⋮----
"""Prevent cursor line from going outside of range.

        Args:
            value: The value to test.

        Return:
            A valid version of the given value.
        """
⋮----
def validate_guide_depth(self, value: int) -> int
⋮----
"""Restrict guide depth to reasonable range.

        Args:
            value: The value to test.

        Return:
            A valid version of the given value.
        """
⋮----
def _invalidate(self) -> None
⋮----
"""Invalidate caches."""
⋮----
def _on_mouse_move(self, event: events.MouseMove) -> None
⋮----
meta = event.style.meta
⋮----
def _on_leave(self, _: events.Leave) -> None
⋮----
# Ensure the hover effect doesn't linger after the mouse leaves.
⋮----
def _new_id(self) -> NodeID
⋮----
"""Create a new node ID.

        Returns:
            A unique node ID.
        """
id = self._current_id
⋮----
def _get_node(self, line: int) -> TreeNode[TreeDataType] | None
⋮----
tree_line = self._tree_lines[line]
⋮----
def _get_label_region(self, line: int) -> Region | None
⋮----
"""Returns the region occupied by the label of the node at line `line`.

        This can be used, e.g., when scrolling to that line such that the label
        is visible after the scroll.

        Args:
            line: A line number.

        Returns:
            The region occupied by the label, or `None` if the
            line is not in the tree.
        """
⋮----
region_x = tree_line._get_guide_width(self.guide_depth, self.show_root)
region_width = self.get_label_width(tree_line.node)
⋮----
def watch_hover_line(self, previous_hover_line: int, hover_line: int) -> None
⋮----
previous_node = self._get_node(previous_hover_line)
⋮----
node = self._get_node(hover_line)
⋮----
def watch_cursor_line(self, previous_line: int, line: int) -> None
⋮----
previous_node = self._get_node(previous_line)
node = self._get_node(line)
⋮----
# No change, so no need for refresh
⋮----
# Refresh previous cursor node
⋮----
# Refresh new node
⋮----
def watch_guide_depth(self, guide_depth: int) -> None
⋮----
def watch_show_root(self, show_root: bool) -> None
⋮----
def scroll_to_line(self, line: int, animate: bool = True) -> None
⋮----
"""Scroll to the given line.

        Args:
            line: A line number.
            animate: Enable animation.
        """
region = self._get_label_region(line)
⋮----
x_axis=False,  # Scrolling the X axis is quite jarring, and rarely necessary
⋮----
"""Scroll to the given node.

        Args:
            node: Node to scroll into view.
            animate: Animate scrolling.
        """
line = node._line
⋮----
def _refresh_line(self, line: int) -> None
⋮----
"""Refresh (repaint) a given line in the tree.

        Args:
            line: Line number.
        """
region = Region(0, line - self.scroll_offset.y, self.size.width, 1)
⋮----
def _refresh_node_line(self, line: int) -> None
⋮----
def _refresh_node(self, node: TreeNode[TreeDataType]) -> None
⋮----
"""Refresh a node and all its children.

        Args:
            node: A tree node.
        """
scroll_y = self.scroll_offset.y
height = self.size.height
visible_lines = self._tree_lines[scroll_y : scroll_y + height]
⋮----
@property
    def _tree_lines(self) -> list[_TreeLine[TreeDataType]]
⋮----
async def _on_idle(self, event: events.Idle) -> None
⋮----
"""Check tree needs a rebuild on idle."""
# Property calls build if required
⋮----
def _build(self) -> None
⋮----
"""Builds the tree by traversing nodes, and creating tree lines."""
⋮----
TreeLine = _TreeLine
lines: list[_TreeLine[TreeDataType]] = []
add_line = lines.append
⋮----
root = self.root
⋮----
child_path = [*path, node]
⋮----
guide_depth = self.guide_depth
show_root = self.show_root
get_label_width = self.get_label_width
⋮----
def get_line_width(line: _TreeLine[TreeDataType]) -> int
⋮----
width = max([get_line_width(line) for line in lines])
⋮----
width = self.size.width
⋮----
def render_lines(self, crop: Region) -> list[Strip]
⋮----
def render_line(self, y: int) -> Strip
⋮----
style = self.rich_style
⋮----
def _render_line(self, y: int, x1: int, x2: int, base_style: Style) -> Strip
⋮----
tree_lines = self._tree_lines
⋮----
line = tree_lines[y]
⋮----
is_hover = self.hover_line >= 0 and any(node._hover for node in line.path)
⋮----
cache_key = (
⋮----
strip = self._line_cache[cache_key]
⋮----
# Allow tree guides to be explicitly disabled by setting color to transparent
base_hidden = self.get_component_styles("tree--guides").color.a == 0
hover_hidden = self.get_component_styles("tree--guides-hover").color.a == 0
selected_hidden = (
⋮----
base_guide_style = self.get_component_rich_style(
guide_hover_style = base_guide_style + self.get_component_rich_style(
guide_selected_style = base_guide_style + self.get_component_rich_style(
⋮----
hover = line.path[0]._hover
selected = line.path[0]._selected and self.has_focus
⋮----
def get_guides(style: Style, hidden: bool) -> tuple[str, str, str, str]
⋮----
"""Get the guide strings for a given style.

                Args:
                    style: A Style object.
                    hidden: Switch to hide guides (make them invisible).

                Returns:
                    Strings for space, vertical, terminator and cross.
                """
lines: tuple[Iterable[str], Iterable[str], Iterable[str], Iterable[str]]
⋮----
lines = self.LINES["default"]
⋮----
lines = self.LINES["bold"]
⋮----
lines = self.LINES["double"]
⋮----
lines = ("  ", "  ", "  ", "  ")
⋮----
guide_depth = max(0, self.guide_depth - 2)
guide_lines = tuple(
⋮----
line_style = self.get_component_rich_style("tree--highlight-line")
⋮----
line_style = base_style
⋮----
guides = Text(style=line_style)
guides_append = guides.append
⋮----
guide_style = base_guide_style
⋮----
hidden = True
⋮----
hidden = base_hidden
⋮----
guide_style = guide_hover_style
hidden = hover_hidden
⋮----
guide_style = guide_selected_style
hidden = selected_hidden
⋮----
guide = space if node.is_last else vertical
⋮----
hover = hover or node._hover
selected = (selected or node._selected) and self.has_focus
⋮----
label_style = self.get_component_rich_style("tree--label", partial=True)
⋮----
label = self.render_label(line.path[-1], line_style, label_style).copy()
⋮----
segments = list(guides.render(self.app.console))
pad_width = max(self.virtual_size.width, width)
segments = line_pad(segments, 0, pad_width - guides.cell_len, line_style)
strip = self._line_cache[cache_key] = Strip(segments)
⋮----
strip = strip.crop(x1, x2)
⋮----
def _on_resize(self, event: events.Resize) -> None
⋮----
def _toggle_node(self, node: TreeNode[TreeDataType]) -> None
⋮----
async def _on_click(self, event: events.Click) -> None
⋮----
cursor_line = meta["line"]
⋮----
node = self.get_node_at_line(cursor_line)
⋮----
def notify_style_update(self) -> None
⋮----
def action_cursor_up(self) -> None
⋮----
"""Move the cursor up one node."""
⋮----
def action_cursor_down(self) -> None
⋮----
"""Move the cursor down one node."""
⋮----
def action_page_down(self) -> None
⋮----
"""Move the cursor down a page's-worth of nodes."""
⋮----
def action_page_up(self) -> None
⋮----
"""Move the cursor up a page's-worth of nodes."""
⋮----
def action_scroll_home(self) -> None
⋮----
"""Move the cursor to the top of the tree."""
⋮----
def action_scroll_end(self) -> None
⋮----
"""Move the cursor to the bottom of the tree.

        Note:
            Here bottom means vertically, not branch depth.
        """
⋮----
def action_toggle_node(self) -> None
⋮----
"""Toggle the expanded state of the target node."""
⋮----
line = self._tree_lines[self.cursor_line]
⋮----
def action_select_cursor(self) -> None
⋮----
"""Cause a select event for the target node.

        Note:
            If `auto_expand` is `True` use of this action on a non-leaf node
            will cause both an expand/collapse event to occur, as well as a
            selected event.
        """
⋮----
node = line.path[-1]
⋮----
def action_cursor_parent(self) -> None
⋮----
"""Move the cursor to the parent node."""
cursor_node = self.cursor_node
⋮----
def action_cursor_parent_next_sibling(self) -> None
⋮----
"""Move the cursor to the parent's next sibling."""
⋮----
def action_cursor_previous_sibling(self) -> None
⋮----
"""Move the cursor to previous sibling, or to the parent if there are no more siblings."""
⋮----
previous_sibling = cursor_node.previous_sibling
⋮----
def action_cursor_next_sibling(self) -> None
⋮----
"""Move the cursor to the next sibling, or to the paren't sibling if there are no more siblings."""
⋮----
next_sibling = cursor_node.next_sibling
⋮----
parent_sibling = cursor_node.parent.next_sibling
⋮----
def action_toggle_expand_all(self) -> None
⋮----
"""Expand or collapse all siblings.

        If all the siblings are collapsed then they will be expanded.
        Otherwise they will all be collapsed.

        """
⋮----
siblings = self.cursor_node.siblings
⋮----
# If all siblings are collapsed we want to expand them all
⋮----
# Otherwise we want to collapse them all
</file>

</files>
