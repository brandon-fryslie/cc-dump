This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.
The content has been processed where content has been compressed (code blocks are separated by ⋮---- delimiter).

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: src/textual/widgets/_tabs.py
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Content has been compressed - code blocks are separated by ⋮---- delimiter
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
src/
  textual/
    widgets/
      _tabs.py
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/textual/widgets/_tabs.py">
class Underline(Widget)
⋮----
"""The animated underline beneath tabs."""
⋮----
DEFAULT_CSS = """
⋮----
COMPONENT_CLASSES = {"underline--bar"}
"""
    | Class | Description |
    | :- | :- |
    | `underline--bar` | Style of the bar (may be used to change the color). |
    """
⋮----
highlight_start = reactive(0)
"""First cell in highlight."""
highlight_end = reactive(0)
"""Last cell (inclusive) in highlight."""
show_highlight: reactive[bool] = reactive(True)
"""Flag to indicate if a highlight should be shown at all."""
⋮----
class Clicked(Message)
⋮----
"""Inform ancestors the underline was clicked."""
⋮----
offset: Offset
"""The offset of the click, relative to the origin of the bar."""
⋮----
def __init__(self, offset: Offset) -> None
⋮----
@property
    def _highlight_range(self) -> tuple[int, int]
⋮----
"""Highlighted range for underline bar."""
⋮----
def render(self) -> RenderResult
⋮----
"""Render the bar."""
bar_style = self.get_component_rich_style("underline--bar")
⋮----
def _on_click(self, event: events.Click)
⋮----
"""Catch clicks, so that the underline can activate the tabs."""
⋮----
class Tab(Static)
⋮----
"""A Widget to manage a single tab within a Tabs widget."""
⋮----
ALLOW_SELECT = False
⋮----
@dataclass
    class TabMessage(Message)
⋮----
"""Tab-related messages.

        These are mostly intended for internal use when interacting with `Tabs`.
        """
⋮----
tab: Tab
"""The tab that is the object of this message."""
⋮----
@property
        def control(self) -> Tab
⋮----
"""The tab that is the object of this message.

            This is an alias for the attribute `tab` and is used by the
            [`on`][textual.on] decorator.
            """
⋮----
class Clicked(TabMessage)
⋮----
"""A tab was clicked."""
⋮----
class Disabled(TabMessage)
⋮----
"""A tab was disabled."""
⋮----
class Enabled(TabMessage)
⋮----
"""A tab was enabled."""
⋮----
class Relabelled(TabMessage)
⋮----
"""A tab was relabelled."""
⋮----
"""Initialise a Tab.

        Args:
            label: The label to use in the tab.
            id: Optional ID for the widget.
            classes: Space separated list of class names.
            disabled: Whether the tab is disabled or not.
        """
⋮----
# Setter takes Text or str
⋮----
@property
    def label(self) -> Content
⋮----
"""The label for the tab."""
⋮----
@label.setter
    def label(self, label: ContentText) -> None
⋮----
def update(self, content: VisualType = "") -> None
⋮----
@property
    def label_text(self) -> str
⋮----
"""Undecorated text of the label."""
⋮----
def _on_click(self)
⋮----
"""Inform the message that the tab was clicked."""
⋮----
def _watch_disabled(self, disabled: bool) -> None
⋮----
"""Notify the parent `Tabs` that a tab was enabled/disabled."""
⋮----
class Tabs(Widget, can_focus=True)
⋮----
"""A row of tabs."""
⋮----
BINDINGS: ClassVar[list[BindingType]] = [
"""
    | Key(s) | Description |
    | :- | :- |
    | left | Move to the previous tab. |
    | right | Move to the next tab. |
    """
⋮----
class TabError(Exception)
⋮----
"""Exception raised when there is an error relating to tabs."""
⋮----
class TabMessage(Message)
⋮----
"""Parent class for all messages that have to do with a specific tab."""
⋮----
ALLOW_SELECTOR_MATCH = {"tab"}
"""Additional message attributes that can be used with the [`on` decorator][textual.on]."""
⋮----
def __init__(self, tabs: Tabs, tab: Tab) -> None
⋮----
"""Initialize event.

            Args:
                tabs: The Tabs widget.
                tab: The tab that is the object of this message.
            """
⋮----
"""The tabs widget containing the tab."""
⋮----
@property
        def control(self) -> Tabs
⋮----
"""The tabs widget containing the tab that is the object of this message.

            This is an alias for the attribute `tabs` and is used by the
            [`on`][textual.on] decorator.
            """
⋮----
def __rich_repr__(self) -> rich.repr.Result
⋮----
class TabActivated(TabMessage)
⋮----
"""Sent when a new tab is activated."""
⋮----
class TabDisabled(TabMessage)
⋮----
"""Sent when a tab is disabled."""
⋮----
class TabEnabled(TabMessage)
⋮----
"""Sent when a tab is enabled."""
⋮----
class TabHidden(TabMessage)
⋮----
"""Sent when a tab is hidden."""
⋮----
class TabShown(TabMessage)
⋮----
"""Sent when a tab is shown."""
⋮----
class Cleared(Message)
⋮----
"""Sent when there are no active tabs.

        This can occur when Tabs are cleared, if all tabs are hidden, or if the
        currently active tab is unset.
        """
⋮----
def __init__(self, tabs: Tabs) -> None
⋮----
"""Initialize the event.

            Args:
                tabs: The tabs widget.
            """
⋮----
"""The tabs widget which was cleared."""
⋮----
"""The tabs widget which was cleared.

            This is an alias for [`Cleared.tabs`][textual.widgets.Tabs.Cleared] which
            is used by the [`on`][textual.on] decorator.
            """
⋮----
active: reactive[str] = reactive("", init=False)
"""The ID of the active tab, or empty string if none are active."""
⋮----
"""Construct a Tabs widget.

        Args:
            *tabs: Positional argument should be explicit Tab objects, or a str or Text.
            active: ID of the tab which should be active on start.
            name: Optional name for the tabs widget.
            id: Optional ID for the widget.
            classes: Optional initial classes for the widget.
            disabled: Whether the widget is disabled or not.
        """
⋮----
add_tabs = [
⋮----
def _auto_tab_id(self, tab: Tab) -> Tab
⋮----
"""Set an automatic ID if not supplied."""
⋮----
@property
    def _new_tab_id(self) -> int
⋮----
"""Get the next tab id in a sequence."""
⋮----
@property
    def tab_count(self) -> int
⋮----
"""Total number of tabs."""
⋮----
@property
    def _potentially_active_tabs(self) -> list[Tab]
⋮----
"""List of all tabs that could be active.

        This list is comprised of all tabs that are shown and enabled,
        plus the active tab in case it is disabled.
        """
⋮----
@property
    def _next_active(self) -> Tab | None
⋮----
"""Next tab to make active if the active tab is removed."""
tabs = self._potentially_active_tabs
⋮----
active_index = tabs.index(self.active_tab)
⋮----
"""Add a new tab to the end of the tab list.

        Args:
            tab: A new tab object, or a label (str or Text).
            before: Optional tab or tab ID to add the tab before.
            after: Optional tab or tab ID to add the tab after.

        Returns:
            An optionally awaitable object that waits for the tab to be mounted and
                internal state to be fully updated to reflect the new tab.

        Raises:
            Tabs.TabError: If there is a problem with the addition request.

        Note:
            Only one of `before` or `after` can be provided. If both are
            provided a `Tabs.TabError` will be raised.
        """
⋮----
before = self.query_one(f"#tabs-list > #{before}", Tab)
⋮----
after = self.query_one(f"#tabs-list > #{after}", Tab)
⋮----
from_empty = self.tab_count == 0
tab_widget = (
⋮----
mount_await = self.query_one("#tabs-list").mount(
⋮----
activated_message = self.TabActivated(self, tab_widget)
⋮----
async def refresh_active() -> None
⋮----
"""Wait for things to be mounted before highlighting."""
⋮----
def clear(self) -> AwaitComplete
⋮----
"""Clear all the tabs.

        Returns:
            An awaitable object that waits for the tabs to be removed.
        """
underline = self.query_one(Underline)
⋮----
def remove_tab(self, tab_or_id: Tab | str | None) -> AwaitComplete
⋮----
"""Remove a tab.

        Args:
            tab_or_id: The Tab to remove or its id.

        Returns:
            An optionally awaitable object that waits for the tab to be removed.
        """
⋮----
remove_tab = tab_or_id
⋮----
remove_tab = self.query_one(f"#tabs-list > #{tab_or_id}", Tab)
⋮----
next_tab = self._next_active
⋮----
next_tab = None
⋮----
async def do_remove() -> None
⋮----
"""Perform the remove after refresh so the underline bar gets new positions."""
⋮----
def validate_active(self, active: str) -> str
⋮----
"""Check id assigned to active attribute is a valid tab."""
⋮----
@property
    def active_tab(self) -> Tab | None
⋮----
"""The currently active tab, or None if there are no active tabs."""
⋮----
def _on_mount(self, _: Mount) -> None
⋮----
"""Make the first tab active."""
⋮----
tab = self.query("#tabs-list > Tab").first(Tab)
⋮----
# Tabs are empty!
⋮----
def compose(self) -> ComposeResult
⋮----
def watch_active(self, previously_active: str, active: str) -> None
⋮----
"""Handle a change to the active tab."""
⋮----
active_tab = self.query_one(f"#tabs-list > #{active}", Tab)
⋮----
"""Move the underline bar to under the active tab.

        Args:
            animate: Should the bar animate?
        """
⋮----
_active_tab = self.query_one("#tabs-list > Tab.-active")
⋮----
def move_underline(animate: bool) -> None
⋮----
"""Move the tab underline.

                Args:
                    animate: animate the underline to its new position.
                """
⋮----
active_tab = self.query_one("#tabs-list > Tab.-active")
⋮----
tab_region = active_tab.virtual_region.shrink(
⋮----
async def _on_tab_clicked(self, event: Tab.Clicked) -> None
⋮----
"""Activate a tab that was clicked."""
⋮----
def _activate_tab(self, tab: Tab) -> None
⋮----
"""Activate a tab.

        Args:
            tab: The Tab that was clicked.
        """
⋮----
def _on_underline_clicked(self, event: Underline.Clicked) -> None
⋮----
"""The underline was clicked.

        Activate the tab above to make a larger clickable area.

        Args:
            event: The Underline.Clicked event.
        """
⋮----
offset = event.offset + (0, -1)
⋮----
def _scroll_active_tab(self) -> None
⋮----
"""Scroll the active tab into view."""
⋮----
def _on_resize(self)
⋮----
"""Make the active tab visible on resize."""
⋮----
def action_next_tab(self) -> None
⋮----
"""Make the next tab active."""
⋮----
def action_previous_tab(self) -> None
⋮----
"""Make the previous tab active."""
⋮----
def _move_tab(self, direction: int) -> None
⋮----
"""Activate the next enabled tab in the given direction.

        Tab selection wraps around. If no tab is currently active, the "next"
        tab is set to be the first and the "previous" tab is the last one.

        Args:
            direction: +1 for the next tab, -1 for the previous.
        """
active_tab = self.active_tab
⋮----
tab_count = len(tabs)
new_tab_index = (tabs.index(active_tab) + direction) % tab_count
⋮----
def _on_tab_disabled(self, event: Tab.Disabled) -> None
⋮----
"""Re-post the disabled message."""
⋮----
def _on_tab_enabled(self, event: Tab.Enabled) -> None
⋮----
"""Re-post the enabled message."""
⋮----
def _on_tab_relabelled(self, event: Tab.Relabelled) -> None
⋮----
"""Redraw the highlight when tab is relabelled."""
⋮----
def disable(self, tab_id: str) -> Tab
⋮----
"""Disable the indicated tab.

        Args:
            tab_id: The ID of the [`Tab`][textual.widgets.Tab] to disable.

        Returns:
            The [`Tab`][textual.widgets.Tab] that was targeted.

        Raises:
            TabError: If there are any issues with the request.
        """
⋮----
tab_to_disable = self.query_one(f"#tabs-list > Tab#{tab_id}", Tab)
⋮----
def enable(self, tab_id: str) -> Tab
⋮----
"""Enable the indicated tab.

        Args:
            tab_id: The ID of the [`Tab`][textual.widgets.Tab] to enable.

        Returns:
            The [`Tab`][textual.widgets.Tab] that was targeted.

        Raises:
            TabError: If there are any issues with the request.
        """
⋮----
tab_to_enable = self.query_one(f"#tabs-list > Tab#{tab_id}", Tab)
⋮----
def hide(self, tab_id: str) -> Tab
⋮----
"""Hide the indicated tab.

        Args:
            tab_id: The ID of the [`Tab`][textual.widgets.Tab] to hide.

        Returns:
            The [`Tab`][textual.widgets.Tab] that was targeted.

        Raises:
            TabError: If there are any issues with the request.
        """
⋮----
tab_to_hide = self.query_one(f"#tabs-list > Tab#{tab_id}", Tab)
⋮----
def show(self, tab_id: str) -> Tab
⋮----
"""Show the indicated tab.

        Args:
            tab_id: The ID of the [`Tab`][textual.widgets.Tab] to show.

        Returns:
            The [`Tab`][textual.widgets.Tab] that was targeted.

        Raises:
            TabError: If there are any issues with the request.
        """
⋮----
tab_to_show = self.query_one(f"#tabs-list > Tab#{tab_id}", Tab)
</file>

</files>
